window.__require=function e(t,a,i){function s(n,r){if(!a[n]){if(!t[n]){var c=n.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+n+"'")}n=c}var u=a[n]={exports:{}};t[n][0].call(u.exports,function(e){return s(t[n][1][e]||e)},u,u.exports,e,t,a,i)}return a[n].exports}for(var o="function"==typeof __require&&__require,n=0;n<i.length;n++)s(i[n]);return s}({AwardLayer:[function(e,t,a){"use strict";cc._RF.push(t,"d5e1cdeqlJAJamaQFyHOTGv","AwardLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("./Common/PopupBase"),o=e("./Common/UIUtils"),{ccclass:n,property:r,menu:c}=cc._decorator;let l=class extends s.default{constructor(){super(...arguments),this.amount=null,this.animationDuration=.3}static get path(){return"Scenes/Game/award_layer"}onLoad(){this.main||(this.main=this.node)}init(){this.scheduleOnce(()=>{this.hide()},2)}playShowAnimation(e){return new Promise(t=>{const a=this.background,i=this.main;this.node.active=!0,a.active=!0,a.opacity=0,i.active=!0,i.scale=.5,i.opacity=0,cc.tween(a).to(.5*e,{opacity:150}).start(),cc.tween(i).to(e,{scale:1,opacity:255},{easing:"smooth"}).to(.1,{scale:.9,opacity:255},{easing:"smooth"}).to(.1,{scale:1,opacity:255},{easing:"smooth"}).call(t).start()})}updateDisplay(e){let t={num:0};this.amount.string=t.num,cc.tween(t).to(1,{num:e},{progress:(e,t,a,i)=>{let s=Math.ceil(e+(t-e)*i);return this.amount.string="\u20b9"+o.UIUtils.getShortNumber(s,!0),e+(t-e)*i}}).start()}};i([r(cc.Label)],l.prototype,"amount",void 0),l=i([n],l),a.default=l,cc._RF.pop()},{"./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],BetChip:[function(e,t,a){"use strict";cc._RF.push(t,"567c4AQwM9JxJXy5gJtMWf2","BetChip");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/CommonDefine"),r=e("./Common/UIUtils"),{ccclass:c,property:l,menu:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.chipIdx=null,this.playerType=n.PlayerType.Self}onLoad(){s.noticeCenter.registAllNotice(this)}setChip(e,t){let a=o.default.homeData.getChipLst();this.txtAmount.string=r.UIUtils.getShortNumber(a[e]),this.chipIdx=e,this.playerType=t,this.setChipStyle(e)}setChipStyle(e){let t,a=o.default.homeData.getChipLst();switch(a[e]){case a[0]:t=cc.Color.WHITE;break;case a[1]:t=cc.Color.RED;break;case a[2]:t=cc.Color.GREEN;break;case a[3]:t=cc.Color.BLUE;break;case a[4]:t=cc.Color.YELLOW;break;case a[5]:t=cc.Color.ORANGE;break;case a[6]:t=cc.Color.CYAN;break;case a[7]:t=cc.Color.MAGENTA;break;case a[8]:t=cc.Color.GRAY;break;case a[9]:t=cc.Color.BLACK}this.node.color=t}};i([l(cc.Label)],h.prototype,"txtAmount",void 0),h=i([c],h),a.default=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],BetTypeCell:[function(e,t,a){"use strict";cc._RF.push(t,"547c8s3qbtELoZp89EhbXcF","BetTypeCell");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/CommonDefine"),r=e("../Business/Logic/GameNotice"),c=e("./TrendCell"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.trendNode=null,this.txtPlayerBet=null,this.txtBetSum=null,this.imgFrame=null,this.imgGoldFrame=null,this.chipPlace=null,this.imgSymbol=null,this.betType=0,this.trendCellList=[]}onLoad(){s.noticeCenter.registAllNotice(this),this.txtBetSum.string="0",this.txtPlayerBet.string="0",this.trendNode.children.forEach(e=>{let t=e.getComponent(c.default);this.trendCellList.push(t)}),this.trendCellList.reverse(),this.setAllTrend()}setBetType(e){this.betType=e,this.setBetSymbol()}setBetSymbol(){let e="";switch(this.betType){case n.BetType.Club:e="img_club";break;case n.BetType.Crown:e="img_crown";break;case n.BetType.Diamond:e="img_diamond";break;case n.BetType.Flag:e="img_flag";break;case n.BetType.Heart:e="img_heart";break;case n.BetType.Spades:e="img_spades"}this.imgSymbol.spriteFrame=cc.resources.get("Texture/Game/"+e,cc.SpriteFrame)}setAllTrend(){let e=o.default.gameData.getTrendList();e.length>10&&(e=e.slice(0,10)),this.trendCellList.forEach((t,a)=>{let i=e[a];t.setTrend(i[this.betType])})}setSingleTrend(e){this.trendCellList[0].setTrend(e[this.betType])}onUpdateTrend(e){this.setAllTrend(),this.lastTrendCellShinning()}lastTrendCellShinning(){let e=this.trendCellList[0].bg.node,t=e.color;cc.tween(e).call(()=>{e.color=cc.Color.YELLOW}).delay(.5).call(()=>{e.color=t}).delay(.5).union().repeat(6).start()}};i([u(cc.Node)],d.prototype,"trendNode",void 0),i([u(cc.Label)],d.prototype,"txtPlayerBet",void 0),i([u(cc.Label)],d.prototype,"txtBetSum",void 0),i([u(cc.Node)],d.prototype,"imgFrame",void 0),i([u(cc.Node)],d.prototype,"imgGoldFrame",void 0),i([u(cc.Node)],d.prototype,"chipPlace",void 0),i([u(cc.Sprite)],d.prototype,"imgSymbol",void 0),i([s.onNotice(r.NtcUpdateTrend)],d.prototype,"onUpdateTrend",null),d=i([l],d),a.default=d,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./TrendCell":"TrendCell"}],ChipSettingLayer:[function(e,t,a){"use strict";cc._RF.push(t,"db0a97PVdJKfKAjv7+g21vD","ChipSettingLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("./Common/PopupBase"),r=e("./Common/UIUtils"),c=e("../Business/Logic/GameNotice"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this.betChipsNode=null,this.chipSelect=null,this.animationDuration=0,this.betChips=[],this.selectIdx=0,this.chipLst=[]}static get path(){return"Scenes/Game/chipSetting_layer"}onLoad(){this.main||(this.main=this.node),this.chipLst=o.default.homeData.getChipLst(),this.betChipsNode.children.forEach((e,t)=>{e.getComponentInChildren(cc.Label).string=r.UIUtils.getShortNumber(this.chipLst[t]);let a=e.getComponent(cc.Button);this.betChips.push(a)}),this.selectIdx=o.default.userData.getSelectChip(),this.chipSelect.node.setParent(this.betChips[this.selectIdx].node)}onTouchClose(){this.hide()}onTouchSelectChip(e,t){this.selectIdx=t,this.chipSelect.node.setParent(this.betChips[t].node)}onTouchConfirm(){let e=new c.NtcChipSetting;o.default.userData.setSelectChip(this.selectIdx),s.noticeCenter.emit(e),this.hide()}};i([u(cc.Node)],d.prototype,"betChipsNode",void 0),i([u(cc.Sprite)],d.prototype,"chipSelect",void 0),d=i([l],d),a.default=d,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],CommonDefine:[function(e,t,a){"use strict";cc._RF.push(t,"9efc0rsiaVG/piSLAHE8XaR","CommonDefine"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeadDefault=a.HeadLst=a.PrefabList=a.Odds=a.LangList=a.SymbolTypeNum=a.SymbolType=a.GameStage=a.SceneType=a.PlayerType=a.UserType=a.BetType=void 0,function(e){e[e.Club=0]="Club",e[e.Flag=1]="Flag",e[e.Spades=2]="Spades",e[e.Diamond=3]="Diamond",e[e.Crown=4]="Crown",e[e.Heart=5]="Heart"}(a.BetType||(a.BetType={})),function(e){e[e.Guest=1]="Guest",e[e.Account=2]="Account"}(a.UserType||(a.UserType={})),function(e){e[e.Self=0]="Self",e[e.Table=1]="Table",e[e.Other=2]="Other"}(a.PlayerType||(a.PlayerType={})),function(e){e[e.Loading=0]="Loading",e[e.Lobby=1]="Lobby",e[e.Game=2]="Game"}(a.SceneType||(a.SceneType={})),function(e){e[e.Wait=0]="Wait",e[e.Prepare=1]="Prepare",e[e.Spinning=2]="Spinning",e[e.Result=3]="Result",e[e.Finish=4]="Finish"}(a.GameStage||(a.GameStage={})),function(e){e.Club="Club",e.Flag="Flag",e.Spades="Spades",e.Diamond="Diamond",e.Crown="Crown",e.Heart="Heart"}(a.SymbolType||(a.SymbolType={})),function(e){e[e.Club=0]="Club",e[e.Flag=1]="Flag",e[e.Spades=2]="Spades",e[e.Diamond=3]="Diamond",e[e.Crown=4]="Crown",e[e.Heart=5]="Heart"}(a.SymbolTypeNum||(a.SymbolTypeNum={})),function(e){e[e.en=0]="en",e[e.hi=1]="hi"}(a.LangList||(a.LangList={})),a.Odds=[0,0,2.5,5,10,20,100];class i{}a.PrefabList=i,i.AwardLayer="Scenes/Game/award_layer",i.ChipSettingLayer="Scenes/Game/chipSetting_layer",i.LowBalanceLayer="Scenes/Game/low_balance_layer",i.MenuLayer="Scenes/Game/menu_layer",i.BetChip="Scenes/Game/betChip",i.PaytableLayer="Scenes/Game/paytable_layer",i.HelpLayer="Scenes/Game/help_layer",i.LanguageLayer="Scenes/Game/language_layer",i.GameRecordLayer="Scenes/Game/game_record_layer",i.RecordCell="Scenes/Game/RecordCell",i.PlayerNode="Scenes/Game/player_node",a.HeadLst=["Texture/Common/Avatar/man_1","Texture/Common/Avatar/man_2","Texture/Common/Avatar/man_3","Texture/Common/Avatar/man_4","Texture/Common/Avatar/man_5"],a.HeadDefault="Texture/Common/Avatar/default",cc._RF.pop()},{}],ConfigManager:[function(e,t,a){"use strict";cc._RF.push(t,"61ecdS7zDhJaIyXsWMOoGLM","ConfigManager"),Object.defineProperty(a,"__esModule",{value:!0});class i{static setUrlConfig(e){i.urlConfig=e}static setAppInfo(e){i.appInfo=e}}a.default=i,i.urlConfig=null,i.appInfo=null,cc._RF.pop()},{}],DataManager:[function(e,t,a){"use strict";cc._RF.push(t,"bb44c7d08JNtpYy1h8nVOKI","DataManager"),Object.defineProperty(a,"__esModule",{value:!0});const i=e("./UserData"),s=e("./HomeData"),o=e("./GameData");class n{static init(){n.userData=new i.default,n.homeData=new s.HomeData,n.gameData=new o.default}}a.default=n,cc._RF.pop()},{"./GameData":"GameData","./HomeData":"HomeData","./UserData":"UserData"}],GameAction:[function(e,t,a){"use strict";cc._RF.push(t,"2b017aE7EFBdYxyAHOIWu39","GameAction");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/CommonDefine"),r=e("./BetTypeCell"),c=e("./BetChip"),l=e("../Business/Logic/GameNotice"),u=e("./Common/UIUtils"),h=e("./Common/PopupManager"),d=e("../Business/Logic/GameCommand"),p=e("./Common/PrefabPool"),{ccclass:m,property:g,menu:f}=cc._decorator;let y=class extends cc.Component{constructor(){super(...arguments),this.btnMenu=null,this.btnRecord=null,this.btnRepeat=null,this.imgBanker=null,this.betNodeContent=null,this.chipNode=null,this.playerNode=null,this.otherPlayerNode=null,this.chipSelectNode=null,this.imgChipSelect=null,this.betTypeCell=[],this.chipMap=new Map,this.chipSelectList=[],this.chipColorList=[cc.Color.WHITE,cc.Color.RED,cc.Color.GREEN,cc.Color.BLUE,cc.Color.YELLOW,cc.Color.ORANGE],this.betRecord=new Map,this.isRecordActive=!1,this.isRepeatRunning=!1}onLoad(){s.noticeCenter.registAllNotice(this),this.btnRepeat.node.on("click",this.onTouchRepeatBet,this),this.betTypeCell=this.betNodeContent.getComponentsInChildren(r.default),this.betTypeCell.forEach((e,t)=>{e.setBetType(t)}),this.resetChipMap(),this.resetBetRecord();let e=o.default.homeData.getChipLst();function t(e){const t=Object.keys(e).map(e=>Number.parseInt(e)).filter(e=>!Number.isNaN(e));return t[Math.floor(Math.random()*t.length)]}this.chipSelectNode.children.forEach((t,a)=>{t.getComponentInChildren(cc.Label).string=u.UIUtils.getShortNumber(e[a]),this.chipSelectList.push(t)}),this.chipSelectList.forEach((e,t)=>{e.color=this.chipColorList[t]}),this.selectChip(o.default.userData.getSelectChip()),this.schedule(()=>{if(o.default.gameData.getGameStage()==n.GameStage.Prepare)for(let e=0;e<s.Utils.randRange(20,30);e++){let e=s.Utils.randRange(0,o.default.homeData.getChipLst().length-1),a=t(n.BetType);this.otherPlayerBet(e,a)}},.5)}resetChipMap(){this.chipMap.set(n.BetType.Club,[]),this.chipMap.set(n.BetType.Flag,[]),this.chipMap.set(n.BetType.Spades,[]),this.chipMap.set(n.BetType.Diamond,[]),this.chipMap.set(n.BetType.Crown,[]),this.chipMap.set(n.BetType.Heart,[])}resetBetRecord(){this.betRecord.set(n.BetType.Club,[]),this.betRecord.set(n.BetType.Flag,[]),this.betRecord.set(n.BetType.Spades,[]),this.betRecord.set(n.BetType.Diamond,[]),this.betRecord.set(n.BetType.Crown,[]),this.betRecord.set(n.BetType.Heart,[])}onTouchBetChips(e,t){let a=Number(t);this.selectChip(a)}selectChip(e){o.default.userData.setSelectChip(e),this.imgChipSelect.node.setParent(this.chipSelectList[e])}onTouchBet(e,t){if(o.default.gameData.getGameStage()!=n.GameStage.Prepare)return;let a=o.default.userData.getSelectChip(),i=o.default.homeData.getChipLst()[a];if(o.default.userData.getBalance()<i)return void h.default.show(n.PrefabList.LowBalanceLayer);this.isRecordActive&&(this.resetBetRecord(),this.isRecordActive=!1);let c=e.target.getComponent(r.default).betType,l=new d.CmdBet;l.betType=c,l.chipIdx=a,l.playerType=n.PlayerType.Self,s.commandCenter.emit(l)}onBet(e){o.default.gameData.getGameStage()==n.GameStage.Prepare&&(0==e.playerType?(this.betBySelf(e.chipIdx,e.seat,e.playerType,e.betType),o.default.gameData.getSelfPlayerNode().showBetAni()):1==e.playerType?(this.betByTable(e.chipIdx,e.seat,e.playerType,e.betType),o.default.gameData.getPlayerNodeList()[e.seat].showBetAni()):2==e.playerType&&this.betByOther(e.chipIdx,e.playerType,e.betType))}betBySelf(e,t,a,i){if(o.default.gameData.getGameStage()!=n.GameStage.Prepare)return;let r=this.betTypeCell[i].chipPlace;this.betChipsFly(e,this.playerNode,r,a,i),this.isRepeatRunning||(null==this.betRecord.get(i)&&this.betRecord.set(i,[]),this.betRecord.get(i).push(e));let c=o.default.gameData.getSelfPlayer();c.setBalance(o.default.userData.getBalance());let u=new l.NtcUpdateBalance;u.seat=c.getSeat(),s.noticeCenter.emit(u)}betByTable(e,t,a,i){if(o.default.gameData.getGameStage()!=n.GameStage.Prepare)return;let s=this.betTypeCell[i].chipPlace,r=o.default.gameData.getPlayerNodeList()[t].node;this.betChipsFly(e,r,s,a,i)}betByOther(e,t,a){if(o.default.gameData.getGameStage()!=n.GameStage.Prepare)return;let i=this.betTypeCell[a].chipPlace;this.betChipsFly(e,this.otherPlayerNode,i,t,a)}onTouchRepeatBet(){if(o.default.gameData.getGameStage()!=n.GameStage.Prepare||!this.isRecordActive)return;let e=0,t=o.default.homeData.getChipLst();if(this.betRecord.forEach(a=>{a.forEach(a=>{let i=t[a];e+=i})}),o.default.userData.getBalance()<e)return void h.default.show(n.PrefabList.LowBalanceLayer);this.isRepeatRunning=!0,this.betRecord.forEach((e,t)=>{e.forEach(e=>{let a=new d.CmdBet;a.betType=t,a.chipIdx=e,a.playerType=n.PlayerType.Self,s.commandCenter.emit(a)})}),this.isRepeatRunning=!1,this.isRecordActive=!1;let a=o.default.gameData.getSelfPlayer();a.setBalance(o.default.userData.getBalance());let i=new l.NtcUpdateBalance;i.seat=a.getSeat(),s.noticeCenter.emit(i)}betChipsFly(e,t,a,i,o){let r=p.default.get(n.PrefabList.BetChip);r.setParent(this.chipNode),null!=o&&(null==this.chipMap.get(o)&&this.chipMap.set(o,[]),this.chipMap.get(o).push(r)),r.getComponent(c.default).setChip(e,i);let l=t.parent.convertToWorldSpaceAR(t.position),u=this.chipNode.convertToNodeSpaceAR(l);r.position=u;let h=a.parent.convertToWorldSpaceAR(a.position),d=this.chipNode.convertToNodeSpaceAR(h),m=d.x-a.width/2+.6*r.width/2,g=d.x+a.width/2-.6*r.width/2,f=d.y-a.height/2+.6*r.height/2,y=d.y+a.height/2-.6*r.height/2;d.x=s.Utils.randRange(m,g),d.y=s.Utils.randRange(f,y),r.opacity=120,r.scale=.3;let C=.1*s.Utils.randRange(3,7);r.stopAllActions(),cc.tween(r).to(C,{x:d.x,y:d.y,scale:.6,opacity:255},{easing:"sineInOut"}).start()}betChipsFlyBack(e,t){let a=t.parent.convertToWorldSpaceAR(t.position),i=this.chipNode.convertToNodeSpaceAR(a),s=.5*Math.random();e.stopAllActions(),cc.tween(e).to(s,{x:i.x,y:i.y},{easing:"sineInOut"}).call(()=>{p.default.put(e)}).start()}bankerGetChips(e){null!=this.chipMap.get(e.betType)&&(this.chipMap.get(e.betType).forEach(e=>{this.betChipsFlyBack(e,this.imgBanker)}),this.chipMap.set(e.betType,[]))}bankerPayChips(e){let t=[];this.chipMap.get(e.betType).forEach(e=>{t.push(e.getComponent(c.default))}),cc.tween(this.node).call(()=>{t.forEach(t=>{this.betChipsFly(t.chipIdx,this.imgBanker,e.chipPlace,t.playerType)})}).delay(1).call(()=>{this.chipNode.children.forEach(e=>{let t=e.getComponent(c.default);t.playerType==n.PlayerType.Self?this.betChipsFlyBack(e,this.playerNode):t.playerType==n.PlayerType.Other&&this.betChipsFlyBack(e,this.otherPlayerNode)}),this.chipMap.set(e.betType,[])}).start()}onGameFinish(e){let t=[],a=[];this.betTypeCell.forEach(i=>{e.winType.forEach(e=>{i.betType==e&&-1==a.indexOf(i)&&a.push(i)}),-1==a.indexOf(i)&&-1==t.indexOf(i)&&t.push(i)}),cc.tween(this.node).call(()=>{t.forEach(e=>{this.bankerGetChips(e)})}).delay(1.5).call(()=>{a.forEach(e=>{this.bankerPayChips(e)})}).delay(1).call(()=>{let t=new l.NtcPlayerShowReward;t.reward=o.default.gameData.getSelfPlayer().getWinSum(),t.reward=e.reward,t.seat=o.default.gameData.getSelfPlayer().getSeat(),s.noticeCenter.emit(t)}).call(this.returnPrepareStage.bind(this)).start()}returnPrepareStage(){o.default.gameData.resetGameData(),o.default.gameData.setGameStage(n.GameStage.Wait),s.noticeCenter.emit(new l.NtcGameWait),o.default.gameData.getSelfPlayer().setBalance(o.default.userData.getBalance());let e=new l.NtcUpdateBalance;e.seat=o.default.gameData.getSelfPlayer().getSeat(),s.noticeCenter.emit(e),this.isRecordActive=!0}otherPlayerBet(e,t){let a=new l.NtcBet;a.betType=t,a.chipIdx=e,a.playerType=n.PlayerType.Other,s.noticeCenter.emit(a);let i=o.default.homeData.getChipLst()[e];o.default.gameData.getBetSumList()[t]+=i,s.noticeCenter.emit(new l.NtcUpdateBetShow)}onGamePrepare(e){}};i([g(cc.Button)],y.prototype,"btnMenu",void 0),i([g(cc.Button)],y.prototype,"btnRecord",void 0),i([g(cc.Button)],y.prototype,"btnRepeat",void 0),i([g(cc.Node)],y.prototype,"imgBanker",void 0),i([g(cc.Node)],y.prototype,"betNodeContent",void 0),i([g({type:cc.Node,displayName:"\u7c4c\u78bc\u7bc0\u9ede"})],y.prototype,"chipNode",void 0),i([g(cc.Node)],y.prototype,"playerNode",void 0),i([g(cc.Node)],y.prototype,"otherPlayerNode",void 0),i([g(cc.Node)],y.prototype,"chipSelectNode",void 0),i([g(cc.Sprite)],y.prototype,"imgChipSelect",void 0),i([s.onNotice(l.NtcBet)],y.prototype,"onBet",null),i([s.onNotice(l.NtcGameFinish)],y.prototype,"onGameFinish",null),i([s.onNotice(l.NtcGamePrepare)],y.prototype,"onGamePrepare",null),y=i([m],y),a.default=y,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Logic/GameCommand":"GameCommand","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./BetChip":"BetChip","./BetTypeCell":"BetTypeCell","./Common/PopupManager":"PopupManager","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils"}],GameCommand:[function(e,t,a){"use strict";cc._RF.push(t,"6afa98dEhxLSaH4a8i3j3+r","GameCommand");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.CmdBet=void 0;let s=class{};s=i([e("../../MobileKit/MKIndex").createCommand],s),a.CmdBet=s,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GameController:[function(e,t,a){"use strict";cc._RF.push(t,"b33e4rPpodINYZCfe4x62BN","GameController");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.GameController=a.CmdGameStart=void 0;const s=e("../../MobileKit/MKIndex"),o=e("../../Business/Data/ConfigManager"),n=e("../../Business/Data/DataManager"),r=e("../../Business/Data/CommonDefine"),c=e("./GameNotice"),l=e("./GameCommand"),u=e("../NetWork/NetworkConstants"),h=e("../Data/PlayerData");let d=class{};d=i([s.createCommand],d),a.CmdGameStart=d;class p extends s.Controller{constructor(){super(),this.gameData=null,this.setName("SettingController"),this.gameData=n.default.gameData,s.noticeCenter.registAllNotice(this),s.commandCenter.registAllCommand(this)}onExit(){s.noticeCenter.targetOff(this),s.commandCenter.targetOff(this)}onCmdGameStart(e){o.default.urlConfig.base;let t={};t.token=n.default.userData.getCert(),t.userid=n.default.userData.getUid(),t.betamount=e.betAmount,t.betinfo=e.betInfo,cc.log("gamestart params = "+JSON.stringify(t)),this.onGameStart(!0,t)}onGameStart(e,t){}onCmdBet(e){let t={};t.betType=e.betType,t.betIndex=e.chipIdx,cc.log("[send] Bet = "+JSON.stringify(t));let a=new c.NtcBet;a.betType=e.betType,a.chipIdx=e.chipIdx,a.playerType=e.playerType,s.noticeCenter.emit(a)}onAckBet(e){if(cc.log("[receive] BetRsp code = "+e.state.code),e.state.code!=u.MsgCodeOK)return void cc.log("Rsp info = "+e.state.info);let t=e.body;cc.log("BetRsp = "+JSON.stringify(t)),new c.NtcBet}onAckIntoGame(e){if(cc.log("[receive] IntoRoomRsp code = "+e.state.code),e.state.code!=u.MsgCodeOK)return void cc.log("Rsp info = "+e.state.info);let t=e.body;cc.log("IntoRoomRsp = "+JSON.stringify(t)),this.setGameDataFromMsg(t)}setGameDataFromMsg(e){let t=this.gameData,a=n.default.homeData,i=n.default.userData,s=e.Status.state;s>=r.GameStage.Wait&&t.setGameStage(r.GameStage.Wait),s>=r.GameStage.Prepare&&t.setGameStage(r.GameStage.Prepare),s>=r.GameStage.Spinning&&t.setGameStage(r.GameStage.Spinning),s>=r.GameStage.Finish&&t.setGameStage(r.GameStage.Finish),a.setChipLst(e.betArr),t.setTrendList(e.historyWinType),t.setBetSumList(e.aBetGold);let o=t.getSelfPlayer();o.setPlaying(!0),o.setNickName(n.default.userData.getNickName()),o.setHeadUrl(n.default.userData.getHeadUrl()),e.players.foreach(e=>{let a=new h.default;this.setPlayerFromMsg(a,e),a.getSeat()>=0&&t.playerSitDown(a,a.getSeat())}),i.setBalance(Number(e.myData.gold)),t.setPlayerBetList(e.myData.aBetGold)}setPlayerFromMsg(e,t){e.setNickName(t.name),e.setHeadUrl(t.imagePath),e.setUid(t.userName),e.setBalance(Number(t.gold)),t.index>=0&&(e.setSeat(t.index),e.setPlaying(!0))}onNetPrepare(e){let t=e.body;cc.log("[receive] Ready = "+JSON.stringify(t));let a=t.timeout/1e3;n.default.gameData.setGameStage(r.GameStage.Prepare);let i=new c.NtcGamePrepare;i.leftTime=a,s.noticeCenter.emit(i)}onNetSpinning(e){let t=e.body;cc.log("[receive] Spinning = "+JSON.stringify(t)),n.default.gameData.setGameStage(r.GameStage.Spinning);let a=new c.NtcGameSpinning;s.noticeCenter.emit(a)}onNetResult(e){let t=e.body;cc.log("[receive] Result = "+JSON.stringify(t)),n.default.gameData.setGameStage(r.GameStage.Result);let a=new c.NtcGameResult;a.diceResult=t.diceResult,s.noticeCenter.emit(a)}onNetFinish(e){let t=e.body;cc.log("[receive] Result = "+JSON.stringify(t)),n.default.gameData.setGameStage(r.GameStage.Finish);let a=new c.NtcGameFinish;a.winType=t.winType,a.reward=t.reward,s.noticeCenter.emit(a)}}i([s.onCommand(d)],p.prototype,"onCmdGameStart",null),i([s.onCommand(l.CmdBet)],p.prototype,"onCmdBet",null),i([s.onMsg(u.MsgFAdBhAck)],p.prototype,"onAckBet",null),i([s.onMsg(u.MsgFAdBhAck)],p.prototype,"onAckIntoGame",null),i([s.onMsg(u.MsgFAdBhNtf)],p.prototype,"onNetPrepare",null),i([s.onMsg(u.MsgFAdBhNtf)],p.prototype,"onNetSpinning",null),i([s.onMsg(u.MsgFAdBhNtf)],p.prototype,"onNetResult",null),i([s.onMsg(u.MsgFAdBhNtf)],p.prototype,"onNetFinish",null),a.GameController=p,cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex","../Data/PlayerData":"PlayerData","../NetWork/NetworkConstants":"NetworkConstants","./GameCommand":"GameCommand","./GameNotice":"GameNotice"}],GameData:[function(e,t,a){"use strict";cc._RF.push(t,"587c8jaYAZM36hqR3idCuRU","GameData"),Object.defineProperty(a,"__esModule",{value:!0});const i=e("./CommonDefine"),s=e("./PlayerData");a.default=class{constructor(){this.m_gameStage=i.GameStage.Prepare,this.m_playerBetList=[],this.m_betSumList=[],this.m_trendList=[],this.m_players=new Array(7),this.m_playerNodeList=[],this.m_playerBetList=[0,0,0,0,0,0],this.m_betSumList=[0,0,0,0,0,0],this.m_selfPlayer=new s.default,this.m_players=new Array(7),this.m_playerNodeList=[]}resetGameData(){this.m_playerBetList=[0,0,0,0,0,0],this.m_betSumList=[0,0,0,0,0,0],this.m_selfPlayer.resetPlayerData(),this.m_players.forEach(e=>{e.resetPlayerData()})}getGameStage(){return this.m_gameStage}setGameStage(e){this.m_gameStage=e}getPlayerBetList(){return this.m_playerBetList}setPlayerBetList(e){this.m_playerBetList=e}getBetSumList(){return this.m_betSumList}setBetSumList(e){this.m_betSumList=e}getTrendList(){return this.m_trendList}setTrendList(e){if(this.m_trendList=e,this.m_trendList.length<10){let e=this.m_trendList.length;for(let t=0;t<10-e;t++)this.m_trendList.push([0,0,0,0,0,0])}}getSelfPlayer(){return this.m_selfPlayer}getPlayerList(){return this.m_players}getPlayerBySeat(e){return this.m_players[e]}playerStandUp(e){var t=this.getPlayerBySeat(e);t?(this.m_players[e]=null,t.setSeat(-1)):cc.log("standUp, error cannot find player")}playerSitDown(e,t){this.m_players[t]=e}getPlayerNodeList(){return this.m_playerNodeList}setPlayerNodeList(e){this.m_playerNodeList=e}getSelfPlayerNode(){let e=this.m_selfPlayer.getSeat();return this.m_playerNodeList[e]}},cc._RF.pop()},{"./CommonDefine":"CommonDefine","./PlayerData":"PlayerData"}],GameNotice:[function(e,t,a){"use strict";cc._RF.push(t,"31af3V/1NxB4o3CuR3dhUJ9","GameNotice");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.NtcGameInfo=a.NtcGameSpinning=a.NtcPlayerShowReward=a.NtcUpdateBalance=a.NtcGamePrepare=a.NtcGameWait=a.NtcUpdateTrend=a.NtcGainReward=a.NtcUpdateBetShow=a.NtcGameFinish=a.NtcBet=a.NtcGameResult=a.NtcChipSetting=a.NtcPlaceChips=void 0;const s=e("../../MobileKit/MKIndex");let o=class{};o=i([s.createNotice],o),a.NtcPlaceChips=o;let n=class{};n=i([s.createNotice],n),a.NtcChipSetting=n;let r=class{};r=i([s.createNotice],r),a.NtcGameResult=r;let c=class{constructor(){this.betType=0,this.chipIdx=0,this.playerType=0,this.seat=-1}};c=i([s.createNotice],c),a.NtcBet=c;let l=class{};l=i([s.createNotice],l),a.NtcGameFinish=l;let u=class{};u=i([s.createNotice],u),a.NtcUpdateBetShow=u;let h=class{};h=i([s.createNotice],h),a.NtcGainReward=h;let d=class{};d=i([s.createNotice],d),a.NtcUpdateTrend=d;let p=class{};p=i([s.createNotice],p),a.NtcGameWait=p;let m=class{constructor(){this.leftTime=0}};m=i([s.createNotice],m),a.NtcGamePrepare=m;let g=class{constructor(){this.seat=-1}};g=i([s.createNotice],g),a.NtcUpdateBalance=g;let f=class{constructor(){this.seat=-1}};f=i([s.createNotice],f),a.NtcPlayerShowReward=f;let y=class{};y=i([s.createNotice],y),a.NtcGameSpinning=y;let C=class{};C=i([s.createNotice],C),a.NtcGameInfo=C,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GameRecordLayer:[function(e,t,a){"use strict";cc._RF.push(t,"76d256602JCGZ6NhZiNIqo9","GameRecordLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../Business/Data/DataManager"),o=e("./Common/PopupBase"),n=e("./RecordCell"),r=e("./Common/PrefabPool"),c=e("../Business/Data/CommonDefine"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends o.default{constructor(){super(...arguments),this.gameRecordContent=null,this.recordScroll=null,this.noDataTips=null,this.nowTime=null,this.today=null}static get path(){return"Scenes/Game/game_record_layer"}onLoad(){this.main||(this.main=this.node),this.nowTime=new Date(Date.now()),this.today=new Date(this.nowTime.getFullYear(),this.nowTime.getMonth(),this.nowTime.getDate())}updateDisplay(){this.setGameRecordData(),this.recordScroll.scrollToTop()}onTouchClose(){this.hide()}onTouchToday(){this.setGameRecordData(this.today.getTime())}onTouchYesterday(){this.setGameRecordData(this.today.getTime()-864e5)}onTouchAllTime(){this.setGameRecordData()}setGameRecordData(e){let t=s.default.userData.getGameRecordLst();if(this.gameRecordContent.removeAllChildren(),0!=t.length){if(this.noDataTips.active=!1,e){let a=e+864e5;t=t.filter(t=>e<=t.time&&t.time<=a)}t.sort((e,t)=>t.time-e.time),t.forEach(e=>{let t=r.default.get(c.PrefabList.RecordCell);this.gameRecordContent.addChild(t),t.active=!0,t.getComponent(n.RecordCell).setData(e)}),this.resetContentSize()}else this.noDataTips.active=!0}resetContentSize(){let e=0;this.gameRecordContent.children.forEach(t=>{1==t.active&&(e+=t.height)}),this.gameRecordContent.height=e+50}};i([u(cc.Node)],d.prototype,"gameRecordContent",void 0),i([u(cc.ScrollView)],d.prototype,"recordScroll",void 0),i([u(cc.Node)],d.prototype,"noDataTips",void 0),d=i([l],d),a.default=d,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","./Common/PopupBase":"PopupBase","./Common/PrefabPool":"PrefabPool","./RecordCell":"RecordCell"}],GameScene:[function(e,t,a){"use strict";cc._RF.push(t,"a7d62FcWh5K2YaaMxNMEQCG","GameScene");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/CommonDefine"),r=e("./BetTypeCell"),c=e("../Business/Logic/GameNotice"),l=e("./Common/UIUtils"),u=e("./Common/PopupManager"),h=e("./Common/PrefabPool"),d=e("./RecordCell"),p=e("./PlayerNode"),m=e("../Business/Data/PlayerData"),{ccclass:g,property:f,menu:y}=cc._decorator;let C=class extends cc.Component{constructor(){super(...arguments),this.nowLanguage=n.LangList.en,this.img_diceShow=[],this.betChip=null,this.btnMenu=null,this.btnRecord=null,this.betAreaMid=null,this.chipNode=null,this.betNodeContent=null,this.leftTimer=null,this.imgMsg=null,this.txtMsg=null,this.playerPosNode=null,this.selfPlayerNode=null,this.betTypeCell=[],this.winType=[],this.leftTime=0,this.playerList=[]}get language(){return this.nowLanguage}set language(e){this.nowLanguage=e,s.LocalLang.setLanguage(n.LangList[e])}onLoad(){s.noticeCenter.registAllNotice(this),this.initUI(),this.initOtherPlayerNode(),this.initSelfPlayerNode(),this.initTestPlayer(),o.default.gameData.setPlayerNodeList(this.playerList),s.AudioEngine.playMusic("Sound/bgm_hall",!0),this.betTypeCell=this.betNodeContent.getComponentsInChildren(r.default),o.default.gameData.setGameStage(n.GameStage.Prepare),s.noticeCenter.emit(new c.NtcGamePrepare),this.imgMsg.opacity=0}initSelfPlayerNode(){let e=h.default.get(n.PrefabList.PlayerNode);e.setPosition(0,0);let t=e.getComponent(p.default);this.selfPlayerNode.addChild(e);let a=o.default.gameData.getSelfPlayer(),i=s.Utils.randRange(0,6);a.setSeat(i),a.setBalance(o.default.userData.getBalance()),a.setPlaying(!0),this.playerList.splice(a.getSeat(),0,t),t.sitDown(a),o.default.gameData.playerSitDown(a,a.getSeat())}initOtherPlayerNode(){this.playerPosNode.children.forEach(e=>{let t=h.default.get(n.PrefabList.PlayerNode);t.setPosition(0,0),e.addChild(t);let a=t.getComponent(p.default);this.playerList.push(a),a.standUp()})}initTestPlayer(){let e=new m.default;e.setHeadUrl("Texture/Common/Avatar/man_2"),e.setBalance(5566e3);let t=s.Utils.randRange(0,6);t==o.default.gameData.getSelfPlayer().getSeat()&&(t+=1)>6&&(t=0),e.setSeat(t),this.playerList[t].sitDown(e)}initUI(){this.btnMenu.node.on("click",this.onTouchMenu,this),this.btnRecord.node.on("click",this.onTouchRecord,this)}gameStart(){this.diceSpin();let e=o.default.userData.getBalance(),t=o.default.gameData.getSelfPlayer().getBetSum();o.default.userData.setBalance(e-t)}onTouchMenu(){u.default.show(n.PrefabList.MenuLayer)}onTouchRecord(){u.default.show(n.PrefabList.GameRecordLayer)}diceSpin(){o.default.gameData.setGameStage(n.GameStage.Spinning);let e=cc.tween(this.node);e.call(()=>{this.diceShow()}).delay(.05).union().repeatForever().start(),this.scheduleOnce(()=>{e.stop(),this.diceStop()},1)}diceStop(){let e=[];for(let i=0;i<6;i++){let t=s.Utils.randRange(0,5);e.push(t)}e=e.sort((e,t)=>e-t);let t="";e.forEach(e=>{t+=e.toString()});let a=Array.from(function(e){return e.match(/(.)\1{0,}/g).sort((e,t)=>t.length-e.length).join("")}(t));this.resultJudgment(a.map(Number))}resultJudgment(e){console.log("ANGO : \u64f2\u9ab0\u7d50\u679c : ",e),this.diceShow(e);let t=new Map;for(let s=0;s<6;s++)t.set(n.BetType[s],0);e.forEach(e=>{let a=n.BetType[e],i=t.get(a);i+=1,t.set(a,i)});let a=[];t.forEach(e=>{a.push(e)}),o.default.gameData.getTrendList().unshift(a),s.noticeCenter.emit(new c.NtcUpdateTrend);let i=s.Utils.maxCountElement(e),r=s.Utils.countOccurrences(e,i[0]),l=n.Odds[r];this.winType=0==l?[]:i;let u=0;i.forEach(e=>{u+=o.default.gameData.getPlayerBetList()[e]*l}),o.default.gameData.getSelfPlayer().setWinSum(u);let h=new d.RecordData;h.time=(new Date).getTime(),h.amount=o.default.gameData.getSelfPlayer().getBetSum(),h.result=u,o.default.userData.getGameRecordLst().push(h),o.default.gameData.setGameStage(n.GameStage.Finish),this.winBetAreaShining(),this.scheduleOnce(()=>{let e=new c.NtcGameResult;e.award=u,s.noticeCenter.emit(e)},1)}diceShow(e){for(let t=0;t<6;t++)if(e)this.setDiceShow(this.img_diceShow[t],e[t]);else{let e=s.Utils.randRange(0,5);this.setDiceShow(this.img_diceShow[t],e)}}setDiceShow(e,t){let a="";switch(t){case n.BetType.Club:a="img_club";break;case n.BetType.Crown:a="img_crown";break;case n.BetType.Diamond:a="img_diamond";break;case n.BetType.Flag:a="img_flag";break;case n.BetType.Heart:a="img_heart";break;case n.BetType.Spades:a="img_spades"}e.spriteFrame=cc.resources.get("Texture/Game/"+a,cc.SpriteFrame)}winBetAreaShining(){this.winType.forEach(e=>{let t=this.betTypeCell[e];cc.tween(t.imgGoldFrame).tag(3).to(.5,{opacity:255},{easing:"smooth"}).to(.5,{opacity:0},{easing:"smooth"}).union().repeat(4).start()})}updateBetShow(){let e=o.default.gameData;this.betTypeCell.forEach((t,a)=>{t.txtBetSum.string=l.UIUtils.getShortNumber(e.getBetSumList()[a]),t.txtPlayerBet.string=l.UIUtils.getShortNumber(e.getPlayerBetList()[a])})}showMsg(e,t=2){this.imgMsg.opacity=255,this.txtMsg.string=e,this.imgMsg.stopAllActions(),cc.tween(this.imgMsg).delay(t).to(0,{opacity:0}).start()}onChipSetting(e){}onGameResult(e){let t=o.default.userData.getBalance();o.default.userData.setBalance(t+e.award),this.leftTimer.node.parent.active=!1;let a=new c.NtcGameFinish;a.winType=this.winType,a.reward=e.award,s.noticeCenter.emit(a)}onBet(e){if(e.playerType!=n.PlayerType.Self)return;let t=o.default.gameData,a=o.default.homeData.getChipLst()[e.chipIdx],i=t.getBetSumList(),s=t.getPlayerBetList();i[e.betType]+=a,s[e.betType]+=a,this.updateBetShow();let r=o.default.userData.getBalance();r-=a,o.default.userData.setBalance(r)}onUpdateBetShow(){this.updateBetShow()}onGainReward(){}onGameWait(){this.leftTimer.node.parent.active=!0;let e=[];for(let a=2;0<a;a--)e.push(cc.callFunc(()=>{this.leftTimer.string=a.toString(),this.showMsg(s.LocalLang.get("game_msg_wait",[a]))})),e.push(cc.delayTime(1));e.push(cc.callFunc(()=>{this.updateBetShow(),this.leftTimer.string="0",this.showMsg(s.LocalLang.get("game_msg_start"),1)})),e.push(cc.delayTime(1)),e.push(cc.callFunc(()=>{o.default.gameData.setGameStage(n.GameStage.Prepare)})),e.push(cc.callFunc(()=>{s.noticeCenter.emit(new c.NtcGamePrepare)}));let t=cc.tween(this.node);e.forEach(e=>{t.then(e)}),t.start()}onGamePrepare(e){let t=[];for(let i=15;0<i;i--)t.push(cc.callFunc(()=>{this.leftTimer.string=i.toString(),this.showMsg(s.LocalLang.get("game_msg_betting",[i]))})),t.push(cc.delayTime(1));t.push(cc.callFunc(()=>{this.updateBetShow(),this.leftTimer.string="0",this.showMsg(s.LocalLang.get("game_msg_stop"),1)})),t.push(cc.delayTime(1)),t.push(cc.callFunc(this.gameStart.bind(this)));let a=cc.tween(this.node);t.forEach(e=>{a.then(e)}),a.start()}showStartingMsg(e){let t=Math.floor(e)-1;if(t<=0)return void this.showMsg(s.LocalLang.get("game_msg_start"));let a=[];for(let o=t;0<o;o--)a.push(cc.callFunc(()=>{this.leftTimer.string=o.toString(),this.showMsg(s.LocalLang.get("game_msg_betting",[o]))})),a.push(cc.delayTime(1));a.push(cc.callFunc(()=>{this.updateBetShow(),this.leftTimer.string="0",this.showMsg(s.LocalLang.get("game_msg_stop"),1)})),a.push(cc.delayTime(1));let i=cc.tween(this.node);a.forEach(e=>{i.then(e)}),i.start()}onGameSpinning(e){o.default.gameData.setGameStage(n.GameStage.Spinning);let t=cc.tween(this.node);t.call(()=>{this.diceShow()}).delay(.05).union().repeatForever().start(),this.scheduleOnce(()=>{t.stop()},1)}updatePlayer(){this.playerList.forEach(e=>{o.default.gameData.getPlayerList().forEach(t=>{t.isPlaying()&&e.sitDown(t)})})}};i([f({visible:!1})],C.prototype,"nowLanguage",void 0),i([f({type:cc.Enum(n.LangList),displayName:"\u8bed\u8a00"})],C.prototype,"language",null),i([f([cc.Sprite])],C.prototype,"img_diceShow",void 0),i([f(cc.Prefab)],C.prototype,"betChip",void 0),i([f(cc.Button)],C.prototype,"btnMenu",void 0),i([f(cc.Button)],C.prototype,"btnRecord",void 0),i([f(cc.Node)],C.prototype,"betAreaMid",void 0),i([f(cc.Node)],C.prototype,"chipNode",void 0),i([f(cc.Node)],C.prototype,"betNodeContent",void 0),i([f(cc.Label)],C.prototype,"leftTimer",void 0),i([f(cc.Node)],C.prototype,"imgMsg",void 0),i([f(cc.Label)],C.prototype,"txtMsg",void 0),i([f(cc.Node)],C.prototype,"playerPosNode",void 0),i([f(cc.Node)],C.prototype,"selfPlayerNode",void 0),i([s.onNotice(c.NtcChipSetting)],C.prototype,"onChipSetting",null),i([s.onNotice(c.NtcGameResult)],C.prototype,"onGameResult",null),i([s.onNotice(c.NtcBet)],C.prototype,"onBet",null),i([s.onNotice(c.NtcUpdateBetShow)],C.prototype,"onUpdateBetShow",null),i([s.onNotice(c.NtcGainReward)],C.prototype,"onGainReward",null),i([s.onNotice(c.NtcGameWait)],C.prototype,"onGameWait",null),i([s.onNotice(c.NtcGamePrepare)],C.prototype,"onGamePrepare",null),i([s.onNotice(c.NtcGameSpinning)],C.prototype,"onGameSpinning",null),C=i([g],C),a.default=C,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Data/PlayerData":"PlayerData","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./BetTypeCell":"BetTypeCell","./Common/PopupManager":"PopupManager","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils","./PlayerNode":"PlayerNode","./RecordCell":"RecordCell"}],HeartBeatHandler:[function(e,t,a){"use strict";cc._RF.push(t,"cbbe6PK4uNJaqhiv8nPLltL","HeartBeatHandler"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeartBeatHandler=void 0,a.HeartBeatHandler=class{constructor(){this.m_idle=10,this.m_maxMissCount=2,this.m_idleCallBack=null,this.m_timeOutCallBack=null,this.m_missCallBack=null,this.m_logName="",this.m_curMissCount=0,this.m_lastTickTime=-1,this.m_curIdle=-1,cc.director.getScheduler().enableForTarget(this)}set idle(e){this.m_idle=e}set maxMissCount(e){this.m_maxMissCount=e}set idleCallBack(e){this.m_idleCallBack=e}set timeOutCallBack(e){this.m_timeOutCallBack=e}set missCallBack(e){this.m_missCallBack=e}set logName(e){this.m_logName=e}startIdle(){this.clearState();let e=(new Date).getTime();this.m_lastTickTime=e,cc.director.getScheduler().unscheduleAllForTarget(this),cc.director.getScheduler().schedule(this.onIdleTime,this,1),cc.log(this.m_logName+" start idle.")}stopIdle(){this.m_curMissCount=0,this.m_lastTickTime=-1,cc.director.getScheduler().unscheduleAllForTarget(this),cc.log(this.m_logName+" stop idle.")}onReceiveHeartBeat(){this.clearState()}clearState(){this.m_curMissCount=0,this.m_curIdle=this.m_idle}sendIdle(){this.m_curMissCount++,2==this.m_curMissCount&&(cc.log(this.m_logName+" miss heart beat."),null!=this.m_missCallBack&&this.m_missCallBack()),this.m_maxMissCount>0&&this.m_curMissCount>this.m_maxMissCount?this.onHeartBeatTimeOut():null!=this.m_idleCallBack&&this.m_idleCallBack()}onIdleTime(e){let t=(new Date).getTime();this.m_lastTickTime>0&&(e=(t-this.m_lastTickTime)/1e3),this.m_lastTickTime=t,e>this.m_idle*this.m_maxMissCount?this.onHeartBeatTimeOut():(this.m_curIdle-=e,this.m_curIdle<=0&&(this.m_curIdle=this.m_idle,this.sendIdle()))}onHeartBeatTimeOut(){cc.log(this.m_logName+" heart beat time out."),this.stopIdle(),null!=this.m_timeOutCallBack&&this.m_timeOutCallBack()}},cc._RF.pop()},{}],HomeData:[function(e,t,a){"use strict";cc._RF.push(t,"43833cz8yRD7r9Zq0qV9kBo","HomeData"),Object.defineProperty(a,"__esModule",{value:!0}),a.HomeData=a.MaintainData=void 0;const i=e("./CommonDefine");a.MaintainData=class{constructor(){this.m_start=0,this.m_end=0,this.m_content=new Map,this.m_hasData=!1}isNearTime(){return this.m_hasData}isMaintainTime(){var e=(new Date).getTime();return e>this.m_start&&e<this.m_end}},a.HomeData=class{constructor(){this.m_chipsUnit=1,this.m_chipLst=[],this.m_gameStage=i.GameStage.Prepare}getChipsUnit(){return this.m_chipsUnit}setChipsUnit(e){this.m_chipsUnit=e}getChipLst(){return this.m_chipLst}setChipLst(e){this.m_chipLst=e}},cc._RF.pop()},{"./CommonDefine":"CommonDefine"}],LanguageLayer:[function(e,t,a){"use strict";cc._RF.push(t,"de8164TwFRB+LdFXf1H7BpI","LanguageLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("./Common/PopupBase"),{ccclass:n,property:r,menu:c}=cc._decorator;let l=class extends o.default{constructor(){super(...arguments),this.langBtnArr=[],this.animationDuration=0,this.langIdx=0}static get path(){return"Scenes/Game/language_layer"}onLoad(){this.main||(this.main=this.node),s.noticeCenter.registAllNotice(this),this.langArr=["en","hi"];let e=s.LocalLang.getLanguage(),t=this.langArr.indexOf(e);t>=0&&(this.langBtnArr[t].check(),this.langIdx=t)}onTouchClose(){this.hide()}onTouchLang(e,t){this.langIdx=Number(t)}onTouchConfirm(){s.LocalLang.setLanguage(this.langArr[this.langIdx]),this.hide()}};i([r([cc.Toggle])],l.prototype,"langBtnArr",void 0),l=i([n],l),a.default=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase"}],LoadingConfig:[function(e,t,a){"use strict";cc._RF.push(t,"ce28cPR/G1B07ofLePg+SKH","LoadingConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.LoadingResLst=void 0,a.LoadingResLst=new Map,a.LoadingResLst.set("Texture/Game/img_club",cc.SpriteFrame),a.LoadingResLst.set("Texture/Game/img_diamond",cc.SpriteFrame),a.LoadingResLst.set("Texture/Game/img_flag",cc.SpriteFrame),a.LoadingResLst.set("Texture/Game/img_crown",cc.SpriteFrame),a.LoadingResLst.set("Texture/Game/img_heart",cc.SpriteFrame),a.LoadingResLst.set("Texture/Game/img_spades",cc.SpriteFrame),a.LoadingResLst.set("Sound/bgm_hall",cc.AudioClip),a.LoadingResLst.set("Scenes/Game/betChip",cc.Prefab),a.LoadingResLst.set("Scenes/Game/RecordCell",cc.Prefab),a.LoadingResLst.set("Scenes/Game/player_node",cc.Prefab),a.LoadingResLst.set("Texture/Game/bg/bg_seat",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/man_1",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/man_2",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/man_3",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/man_4",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/man_5",cc.SpriteFrame),a.LoadingResLst.set("Texture/Common/Avatar/default",cc.SpriteFrame),cc._RF.pop()},{}],LoadingScene:[function(e,t,a){"use strict";cc._RF.push(t,"b3227XK/V5PI5kdwcCTTjvS","LoadingScene");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/ConfigManager"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Logic/SceneController"),l=e("./LoadingConfig"),u=e("../Business/Logic/GameController"),{ccclass:h,property:d,menu:p}=cc._decorator;let m=class extends cc.Component{constructor(){super(...arguments),this.label=null,this.urlConfig=null,this.appInfo=null}onLoad(){s.noticeCenter.registAllNotice(this),this.initApp()}initApp(){s.commandCenter.addController(new c.SceneController),o.default.init(),o.default.userData.setBalance(1e6),o.default.homeData.setChipLst([5e3,1e4,2e4,5e4,1e5,2e5]),o.default.homeData.setChipsUnit(100),o.default.gameData.getSelfPlayer().setHeadUrl("Texture/Common/Avatar/man_1"),s.LocalLang.setLanguage("en");let e=[{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:2,amount:25e3,result:-25e3},{time:Date.now(),betType:1,amount:25e3,result:1e6},{time:1649925504e3,betType:1,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:0,amount:25e3,result:-25e3},{time:Date.now(),betType:2,amount:25e3,result:1e6},{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:0,amount:25e3,result:-25e3},{time:Date.now(),betType:0,amount:25e3,result:1e6},{time:1649925504e3,betType:1,amount:5e3,result:1e4},{time:1649928353e3,betType:2,amount:15e3,result:1e4},{time:16553676e5,betType:1,amount:25e3,result:-25e3},{time:Date.now(),betType:1,amount:25e3,result:1e6},{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:1,amount:15e3,result:1e4},{time:1655622671e3,betType:2,amount:25e3,result:-25e3},{time:Date.now()-864e5,betType:0,amount:25e3,result:1e6}];o.default.userData.setGameRecordLst(e);let t=[];for(let a=0;a<10;a++){let e=[];for(let t=0;t<6;t++){let t=s.Utils.randRange(0,3);e.push(t)}t.push(e)}o.default.gameData.setTrendList(t),s.commandCenter.addController(new u.GameController),n.default.setUrlConfig(this.urlConfig.json),n.default.setAppInfo(this.appInfo.json),this.loadRes()}loadRes(){let e=!0;for(let[t,a]of l.LoadingResLst)cc.resources.load(t,a,this.onLoadProgress.bind(this),t=>{t&&(cc.log("loading res error, ",t),e=!1)});e&&this.gotoNextScene()}onLoadProgress(){}gotoNextScene(){s.commandCenter.emit(new c.CmdScene(r.SceneType.Lobby))}};i([d(cc.Label)],m.prototype,"label",void 0),i([d(cc.JsonAsset)],m.prototype,"urlConfig",void 0),i([d(cc.JsonAsset)],m.prototype,"appInfo",void 0),m=i([h],m),a.default=m,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/ConfigManager":"ConfigManager","../Business/Data/DataManager":"DataManager","../Business/Logic/GameController":"GameController","../Business/Logic/SceneController":"SceneController","../MobileKit/MKIndex":"MKIndex","./LoadingConfig":"LoadingConfig"}],LobbyScene:[function(e,t,a){"use strict";cc._RF.push(t,"5d65cjvHR5ABIhyPmNJdRaJ","LobbyScene");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/CommonDefine"),n=e("../Business/Logic/SceneController"),{ccclass:r,property:c,menu:l}=cc._decorator;let u=class extends cc.Component{onLoad(){s.noticeCenter.registAllNotice(this),s.commandCenter.emit(new n.CmdScene(o.SceneType.Game))}onTouchStart(){s.commandCenter.emit(new n.CmdScene(o.SceneType.Game))}};u=i([r],u),a.default=u,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Logic/SceneController":"SceneController","../MobileKit/MKIndex":"MKIndex"}],LowBalanceLayer:[function(e,t,a){"use strict";cc._RF.push(t,"4b20csg+IJOZo4kG4JnQjIw","LowBalanceLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("./Common/PopupBase"),{ccclass:o,property:n,menu:r}=cc._decorator;let c=class extends s.default{constructor(){super(...arguments),this.animationDuration=0}static get path(){return"Scenes/Game/low_balance_layer"}onLoad(){this.main||(this.main=this.node),this.scheduleOnce(()=>{this.hide()},2)}};c=i([o],c),a.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],MKActionQueue:[function(e,t,a){"use strict";cc._RF.push(t,"7733b8JdpNIHYxZ1k+2nx9N","MKActionQueue"),Object.defineProperty(a,"__esModule",{value:!0}),a.ActionQueue=void 0,a.ActionQueue=class{constructor(){this.m_actionQueue=null,this.m_delay=0,this.m_actionQueue=[],cc.director.getScheduler().enableForTarget(this),cc.director.getScheduler().scheduleUpdate(this,0,!1)}postAction(e,t){this.m_actionQueue.push({func:e,param:t})}setDelayTime(e){e<cc.macro.FLT_EPSILON||this.m_delay<e&&(this.m_delay=e)}clear(){this.clearDelayTime(),this.removeAllAction()}clearDelayTime(){this.m_delay=0}removeAllAction(){this.m_actionQueue.length=0}update(e){if(this.m_delay>0&&(this.m_delay-=e),this.m_actionQueue.length>0&&this.m_delay<cc.macro.FLT_EPSILON){var t=this.m_actionQueue.shift();t.func(t.param)}}onExit(){this.clear(),cc.director.getScheduler().unscheduleAllForTarget(this)}},cc._RF.pop()},{}],MKAudioEngine:[function(e,t,a){"use strict";cc._RF.push(t,"1950dWg/apGgKPh5p5a+7i+","MKAudioEngine"),Object.defineProperty(a,"__esModule",{value:!0}),a.AudioEngine=void 0;let i=!1,s=!1,o=null,n=!1;class r{static playEffect(e,t=!1){if(i){if(e instanceof cc.AudioClip)return cc.audioEngine.playEffect(e,t);{let a=cc.resources.get(e);if(null!=a)return cc.audioEngine.playEffect(a,t)}}return 0}static stopEffect(e){e>0&&cc.audioEngine.stopEffect(e)}static playMusic(e,t=!1){if(e instanceof cc.AudioClip)o=e;else{let t=cc.resources.get(e);null!=t&&(o=t)}n=t,s&&cc.audioEngine.playMusic(o,n)}static stopMusic(){o=null,cc.audioEngine.stopMusic()}static setEffectsVolume(e){cc.audioEngine.setEffectsVolume(e)}static setMusicVolume(e){cc.audioEngine.setMusicVolume(e)}static setEffectsEnabled(e){i=e,e||cc.audioEngine.stopAllEffects()}static setMusicEnabled(e){s=e,e?null!=o&&cc.audioEngine.playMusic(o,n):cc.audioEngine.stopMusic()}static setMute(e){r.setEffectsEnabled(!e),r.setMusicEnabled(!e)}static isMute(){return s&&i}static isMusicPlaying(){return cc.audioEngine.isMusicPlaying()}static pauseMusic(){cc.audioEngine.pauseMusic()}}a.AudioEngine=r,cc._RF.pop()},{}],MKCommandCenter:[function(e,t,a){"use strict";cc._RF.push(t,"36eecgRfGBIvrNItfzw/c9j","MKCommandCenter"),Object.defineProperty(a,"__esModule",{value:!0}),a.onCommand=a.commandCenter=a.CommandCenter=a.Controller=a.createCommand=void 0;let i=0;a.createCommand=function(e){e.Type="Command"+i++,e.prototype.getType=function(){return e.Type}},a.Controller=class{constructor(){this.name=""}setName(e){this.name=e}getName(){return this.name}onExit(){}};class s{constructor(){this.m_controllers=new Map,this.m_eventTarget=new cc.EventTarget}addController(e){var t=e.getName();this.m_controllers.get(t)?(cc.log("MKCommandCenter warning, controller already exist"),e.onExit()):this.m_controllers.set(t,e)}removeController(e){var t=this.m_controllers.get(e);t&&(t.onExit(),this.targetOff(t),this.m_controllers.delete(e))}hasController(e){return this.m_controllers.get(e)}on(e,t,a){this.m_eventTarget.on(e.Type,t,a)}off(e,t,a){this.m_eventTarget.off(e.Type,t,a)}registAllCommand(e){if(e.commandList)for(let t of e.commandList)this.on(t.command,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.hasEventListener(e.getType())?this.m_eventTarget.emit(e.getType(),e):cc.log("MKCommandCenter err : no command handler, command type = "+e.getType())}}a.CommandCenter=s,a.commandCenter=new s,a.onCommand=function(e){return function(t,a){t.commandList||(t.commandList=[]),t.commandList.push({command:e,methodName:a})}},cc._RF.pop()},{}],MKCryptoUtils:[function(e,t,a){"use strict";cc._RF.push(t,"1ff71vS4J1NA7ytlCGJPgtt","MKCryptoUtils"),Object.defineProperty(a,"__esModule",{value:!0}),a.CryptoUtils=void 0,a.CryptoUtils=class{static md5(e){return CryptoJS.MD5(e).toString()}static base64Encode(e){var t=CryptoJS.enc.Utf8.parse(e);return CryptoJS.enc.Base64.stringify(t)}static base64Decode(e){return CryptoJS.enc.Base64.parse(e).toString(CryptoJS.enc.Utf8)}},cc._RF.pop()},{}],MKHttp:[function(e,t,a){"use strict";cc._RF.push(t,"0073dUDVQRAsofk0kRCNO0I","MKHttp"),Object.defineProperty(a,"__esModule",{value:!0}),a.Http=void 0;class i{static formatParams(e){let t="",a=!1;for(let i in e)a?t+="&":a=!0,t+=i+"="+e[i];return t}static get(e,t,a,s=i.ContentType.Form){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState)if(o.status>=200&&o.status<400){let i={};if(""!=o.responseText)try{i=JSON.parse(o.responseText)}catch(t){cc.log("http get result parse failed! url = %s",e)}a(!0,i)}else cc.log("http get error! code = %s, url = %s",o.status,e),a(!1,null)},o.onerror=function(){cc.log("http get error! url = %s",e),a(!1,null)},o.ontimeout=function(){cc.log("http get timeout! url = %s",e),a(!1,null)},s==i.ContentType.Json?(o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.send(t?JSON.stringify(t):null)):(t&&(e+="?"+i.formatParams(t)),o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send())}static post(e,t,a,s=i.ContentType.Form){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState)if(o.status>=200&&o.status<400){let i={};if(""!=o.responseText)try{i=JSON.parse(o.responseText)}catch(t){cc.log("http post result parse failed! url = %s",e)}a(!0,i)}else cc.log("http post error! code = %s, url = %s",o.status,e),a(!1,null)},o.onerror=function(){cc.log("http post error! url = %s",e),a(!1,null)},o.ontimeout=function(){cc.log("http post timeout! url = %s",e),a(!1,null)},o.open("POST",e,!0),s==i.ContentType.Json?(o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.send(t?JSON.stringify(t):null)):(o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t?i.formatParams(t):null))}static delete(e,t,a,s=i.ContentType.Form){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState)if(o.status>=200&&o.status<400){let i={};if(""!=o.responseText)try{i=JSON.parse(o.responseText)}catch(t){cc.log("http delete result parse failed! url = %s",e)}a(!0,i)}else cc.log("http delete error! code = %s, url = %s",o.status,e),a(!1,null)},o.onerror=function(){cc.log("http delete error! url = %s",e),a(!1,null)},o.ontimeout=function(){cc.log("http delete timeout! url = %s",e),a(!1,null)},s==i.ContentType.Json?(o.open("DELETE",e,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.send(t?JSON.stringify(t):null)):(t&&(e+="?"+i.formatParams(t)),o.open("DELETE",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send())}}a.Http=i,i.ContentType={Form:1,Json:2},cc._RF.pop()},{}],MKImageDownloader:[function(e,t,a){"use strict";cc._RF.push(t,"4919aB9yv1POaDSwtAZW/Qh","MKImageDownloader"),Object.defineProperty(a,"__esModule",{value:!0}),a.imageDowloader=a.ImageDownloader=void 0;const i=e("./MKCryptoUtils");class s{constructor(){this.m_observers=null,this.m_observers=[]}loadUrl(e,t){for(var a=!1,i=0,s=this.m_observers.length;i<s;++i){var o=this.m_observers[i];if(e==o.url){o.callback.push(t),a=!0;break}}a||(this.m_observers.push({url:e,callback:[t]}),this.downloadImage(e))}onDownloadImage(e,t){for(var a=this.m_observers.length-1;a>=0;--a){var i=this.m_observers[a];if(e==i.url){for(var s=i.callback,o=0;o<s.length;++o)s[o](e,t);this.m_observers.splice(a,1);break}}}downloadImage(e){var t=jsb.fileUtils.getWritablePath()+"net_image/",a=t+i.CryptoUtils.md5(e)+".jpg";if(jsb.fileUtils.isFileExist(a))this.onDownloadImage(e,a);else{jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t);var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status?this.saveFile(e,a,s.response):cc.log("Remote download file failed."))}.bind(this),s.responseType="arraybuffer",s.open("GET",e,!0),s.send()}}saveFile(e,t,a){jsb.fileUtils.writeDataToFile(new Uint8Array(a),t)?this.onDownloadImage(e,t):cc.log("Remote write file failed.")}clearCache(){var e=jsb.fileUtils.getWritablePath()+"net_image/";jsb.fileUtils.listFiles(e).length>100&&jsb.fileUtils.removeDirectory(e)}}a.ImageDownloader=s,a.imageDowloader=new s,cc._RF.pop()},{"./MKCryptoUtils":"MKCryptoUtils"}],MKIndex:[function(e,t,a){"use strict";cc._RF.push(t,"0f526BZPmpBr7wVUh62Ltxm","MKIndex");var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),s=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||i(t,e,a)};Object.defineProperty(a,"__esModule",{value:!0}),s(e("./Common/MKCryptoUtils"),a),s(e("./Common/MKLocalLang"),a),s(e("./Common/MKSystem"),a),s(e("./Common/MKUtils"),a),s(e("./Common/MKImageDownloader"),a),s(e("./Common/MKAudioEngine"),a),s(e("./Common/HeartBeatHandler"),a),s(e("./Event/MKCommandCenter"),a),s(e("./Event/MKNoticeCenter"),a),s(e("./Event/MKActionQueue"),a),s(e("./Network/MKHttp"),a),s(e("./Network/MKSocket"),a),cc._RF.pop()},{"./Common/HeartBeatHandler":"HeartBeatHandler","./Common/MKAudioEngine":"MKAudioEngine","./Common/MKCryptoUtils":"MKCryptoUtils","./Common/MKImageDownloader":"MKImageDownloader","./Common/MKLocalLang":"MKLocalLang","./Common/MKSystem":"MKSystem","./Common/MKUtils":"MKUtils","./Event/MKActionQueue":"MKActionQueue","./Event/MKCommandCenter":"MKCommandCenter","./Event/MKNoticeCenter":"MKNoticeCenter","./Network/MKHttp":"MKHttp","./Network/MKSocket":"MKSocket"}],MKLocalLang:[function(e,t,a){"use strict";cc._RF.push(t,"26623qYW/1OJ7PqJm16Um6d","MKLocalLang"),Object.defineProperty(a,"__esModule",{value:!0}),a.LocalLang=void 0;class i{static checkInit(){this.language||this.setLanguage("en")}static setLanguage(e){this.language!==e&&(this.language=e,this.reloadLabel(),this.reloadSprite())}static getLanguage(){return this.language}static _addOrDelLabel(e,t){if(t)this.labelArr.push(e);else{let t=this.labelArr.indexOf(e);-1!==t&&this.labelArr.splice(t,1)}}static get(e,t){if(this.checkInit(),null==t||0===t.length)return this.labelData[e]||e;let a=this.labelData[e]||e;for(let i=0;i<t.length;i++){let e=new RegExp("#"+i,"g");a=a.replace(e,t[i])}return a}static _addOrDelSprite(e,t){if(t)this.spriteArr.push(e);else{let t=this.spriteArr.indexOf(e);-1!==t&&this.spriteArr.splice(t,1)}}static _getSprite(e,t){this.checkInit(),cc.resources.load("i18n/sprite/"+this.language+"/"+e,cc.SpriteFrame,(e,a)=>{if(e)return t(null);t(a)})}static reloadLabel(){let e="i18n/label/"+this.language;cc.resources.load(e,(e,t)=>{e?(console.error(e),this.labelData={}):this.labelData=t.json;for(let a of this.labelArr)a._resetValue()})}static reloadSprite(){for(let e of this.spriteArr)e._resetValue()}}a.LocalLang=i,i.language="",i.labelArr=[],i.labelData={},i.spriteArr=[],cc._RF.pop()},{}],MKNoticeCenter:[function(e,t,a){"use strict";cc._RF.push(t,"79a78Glip9HQ5SpEWfy23e+","MKNoticeCenter"),Object.defineProperty(a,"__esModule",{value:!0}),a.onNotice=a.noticeCenter=a.NoticeCenter=a.createNotice=void 0;let i=0;a.createNotice=function(e){e.Type="Notice"+i++,e.prototype.getType=function(){return e.Type}};class s{constructor(){this.m_eventTarget=new cc.EventTarget}on(e,t,a){this.m_eventTarget.on(e.Type,t,a)}off(e,t,a){this.m_eventTarget.off(e.Type,t,a)}registAllNotice(e){if(e.noticeList)for(let t of e.noticeList)this.on(t.notice,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.emit(e.getType(),e)}}a.NoticeCenter=s,a.noticeCenter=new s,a.onNotice=function(e){return function(t,a){t.noticeList||(t.noticeList=[]),t.noticeList.push({notice:e,methodName:a})}},cc._RF.pop()},{}],MKSocket:[function(e,t,a){"use strict";cc._RF.push(t,"9629bn3i9BIyKAXnP94lWgi","MKSocket"),Object.defineProperty(a,"__esModule",{value:!0}),a.onMsg=a.Socket=void 0;class i{constructor(){this.m_socket=null,this.m_eventTarget=new cc.EventTarget,this.m_connected=!1}connect(e){}disconnect(){this.m_connected=!1}isConnected(){return this.m_socket&&this.m_connected}send(e,t){}on(e,t,a){this.m_eventTarget.on(e.toString(),t,a)}off(e,t,a){this.m_eventTarget.off(e.toString(),t,a)}registAllMsg(e){if(e.msgList)for(let t of e.msgList)this.on(t.msgID,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}onConnect(e){this.m_connected=!0,this.m_eventTarget.emit(i.Connect,this,e)}onMessage(e){this.m_eventTarget.emit(i.Message,this,e),this.m_eventTarget.hasEventListener(e.msgID)?this.m_eventTarget.emit(e.msgID,e):cc.log("MKSocket err : no socket message handler, messageID = "+e.msgID)}onError(e){this.m_eventTarget.emit(i.Error,this,e),this.disconnect(),this.m_connected=!1}onClose(e){this.m_eventTarget.emit(i.Close,this,e),this.disconnect(),this.m_connected=!1}}a.Socket=i,i.Connect="Connect",i.Close="Close",i.Error="Error",i.Message="Message",a.onMsg=function(e){return function(t,a){t.msgList||(t.msgList=[]),t.msgList.push({msgID:e,methodName:a})}},cc._RF.pop()},{}],MKSystem:[function(e,t,a){"use strict";cc._RF.push(t,"a872ajJ9cJIZJgRz4rujdNB","MKSystem"),Object.defineProperty(a,"__esModule",{value:!0}),a.system=a.System=void 0;class i{constructor(){}getVersion(){return""}getVersionCode(){return 1}getPackageName(){return""}getMetaData(e){return""}getDeviceID(){return""}getLocation(){return""}getChannelID(){return""}copyStrToClipboard(e){}getFileMD5(e){return""}getPlatform(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?cc.sys.OS_ANDROID:cc.sys.os==cc.sys.OS_IOS?cc.sys.OS_IOS:"Web":"Web"}getWakeUpData(){return""}shareText(e,t){}shareInWhatsApp(e){}}a.System=i;class s extends i{constructor(){super()}getVersion(){return"1.0.0"}getVersionCode(){return 1}getPackageName(){return"com.kbsgame.teenpatti"}getDeviceModel(){return""}getSystemVersion(){return""}getMetaData(e){return""}getLocation(){return""}getDeviceID(){return this.genMacFack()}getChannelID(){return"KBS"}genMacFack(){var e=cc.sys.localStorage.getItem("macFack");if(e)return e;e="";for(var t=0;t<6;t++){for(var a="",i=0;i<2;i++)a+="0123456789abcdef"[Math.ceil(15*Math.random())];e+=e?":"+a:a}return cc.sys.localStorage.setItem("macFack",e),e}}let o=null;o=cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?new class extends i{constructor(){super(),this.version="",this.versionCode=1,this.packageName="",this.channelID="",this.version=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getVersion","()Ljava/lang/String;"),this.packageName=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getPackageName","()Ljava/lang/String;"),this.channelID=this.getMetaData("APP_CHANNEL");try{this.versionCode=jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getVersionCode","()J")}catch(e){}}getVersion(){return this.version}getVersionCode(){return this.versionCode}getPackageName(){return this.packageName}getDeviceModel(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getDeviceModel","()Ljava/lang/String;")}getSystemVersion(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getSystemVersion","()Ljava/lang/String;")}getMetaData(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getMetaData","(Ljava/lang/String;)Ljava/lang/String;",e)}getDeviceID(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getDeviceID","()Ljava/lang/String;")}getLocation(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getLocation","()Ljava/lang/String;")}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("com/mk/common/MKSystem","copyStrToClipboard","(Ljava/lang/String;)V",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getFileMD5","(Ljava/lang/String;)Ljava/lang/String;",e)}getWakeUpData(){return this.getVersionCode()<43?"":jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getWakeUpData","()Ljava/lang/String;")}shareText(e,t){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareText","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}shareInWhatsApp(e){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareToApp","(Ljava/lang/String;Ljava/lang/String;)V","com.whatsapp",e)}}:cc.sys.os==cc.sys.OS_IOS?new class extends i{constructor(){super(),this.version="",this.packageName="",this.channelID="",this.version=jsb.reflection.callStaticMethod("MKSystem","getAppVersion"),this.packageName=jsb.reflection.callStaticMethod("MKSystem","getPackageName"),this.channelID=this.getMetaData("APP_CHANNEL")}getVersion(){return this.version}getPackageName(){return this.packageName}getMetaData(e){return jsb.reflection.callStaticMethod("MKSystem","getMetaData:",e)}getDeviceID(){return jsb.reflection.callStaticMethod("MKSystem","getDeviceID")}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("MKSystem","copyStrToClipboard:",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("MKSystem","getFileMD5:",e)}}:new s:new s,a.system=o,cc._RF.pop()},{}],MKUtils:[function(e,t,a){"use strict";cc._RF.push(t,"67818ViSbNBt7n0lfXcd04e","MKUtils"),Object.defineProperty(a,"__esModule",{value:!0}),a.Utils=void 0;class i{static randRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}static strMaxCut(e,t){for(var a="",i=0,s=0;s<e.length;s++){var o=e[s];o.charCodeAt(0)>255?i+=2:i++,i<=t&&(a+=o)}return i>t?a+"...":a}static dateFormat(e,t){var a=new Date(t);let i;const s={"Y+":a.getFullYear().toString(),"m+":(a.getMonth()+1).toString(),"d+":a.getDate().toString(),"H+":a.getHours().toString(),"M+":a.getMinutes().toString(),"S+":a.getSeconds().toString()};for(let o in s)(i=new RegExp("("+o+")").exec(e))&&(e=e.replace(i[1],1==i[1].length?s[o]:s[o].padStart(i[1].length,"0")));return e}static getUrlParams(){if(cc.sys.isNative)return{};var e=window.location.search;return i.parseUrlParams(e)}static parseUrlParams(e){var t={},a=e.indexOf("?");if(-1!=a)for(var i=e.substr(a+1).split("&"),s=0;s<i.length;s++)t[i[s].split("=")[0]]=i[s].split("=")[1];return t}static resize(){var e=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=e.designResolution);var t=this.curDR,a=cc.view.getFrameSize(),i=a.width,s=a.height,o=i,n=s;i/s>t.width/t.height?o=(n=t.height)*i/s:n=s/i*(o=t.width),e.designResolution=cc.size(o,n),e.node.width=o,e.node.height=n,e.node.emit("resize")}static maxCountElement(e){let t={};for(let o=0;o<e.length;o++){let a=e[o];t[a]?t[a]++:t[a]=1}let a=0,i=[],s=[];for(let o in t)a<t[o]?(a=t[o],i[0]=o,s.length=0):a===t[o]&&s.push(o);if(s.length>0)for(let o=0;o<s.length;o++)i.push(s[o]);return i}static countOccurrences(e,t){return e.filter(e=>e==t).length}static isEmail(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(e)}static isPhone(e){return/^(\d*)$/.test(e)}static isUserName(e){return/^[A-Za-z0-9][A-Za-z0-9\s]*[A-Za-z0-9]$/.test(e)}}a.Utils=i,i.curDR=null,cc._RF.pop()},{}],MenuLayer:[function(e,t,a){"use strict";cc._RF.push(t,"0de2b6hsk5OQo/U/taIk3GO","MenuLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("./Common/PopupBase"),n=e("./Common/PopupManager"),r=e("../Business/Data/CommonDefine"),{ccclass:c,property:l,menu:u}=cc._decorator;let h=class extends o.default{constructor(){super(...arguments),this.animationDuration=0,this.btnPaytable=null,this.btnHelp=null,this.btnLanguage=null,this.toggleMusic=null,this.imgSoundOn=null,this.imgSoundOff=null,this.soundOn=!1}static get path(){return"Scenes/Game/menu_layer"}onLoad(){this.main||(this.main=this.node),this.btnPaytable.on(cc.Node.EventType.TOUCH_END,this.onTouchPaytable,this),this.btnHelp.on(cc.Node.EventType.TOUCH_END,this.onTouchHelp,this),this.btnLanguage.on(cc.Node.EventType.TOUCH_END,this.onTouchLanguage,this),this.toggleMusic.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff}onTouchClose(){this.hide()}onTouchPaytable(){n.default.show(r.PrefabList.PaytableLayer),this.hide()}onTouchHelp(){n.default.show(r.PrefabList.HelpLayer),this.hide()}onTouchLanguage(){n.default.show(r.PrefabList.LanguageLayer),this.hide()}onTouchSound(){this.soundOn=!this.soundOn,this.toggleMusic.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff,s.AudioEngine.setEffectsEnabled(this.soundOn),s.AudioEngine.setMusicEnabled(this.soundOn)}};i([l(cc.Node)],h.prototype,"btnPaytable",void 0),i([l(cc.Node)],h.prototype,"btnHelp",void 0),i([l(cc.Node)],h.prototype,"btnLanguage",void 0),i([l(cc.Sprite)],h.prototype,"toggleMusic",void 0),i([l(cc.SpriteFrame)],h.prototype,"imgSoundOn",void 0),i([l(cc.SpriteFrame)],h.prototype,"imgSoundOff",void 0),h=i([c],h),a.default=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/PopupManager":"PopupManager"}],NetImage:[function(e,t,a){"use strict";cc._RF.push(t,"21e4a8bKmhPXYLErV4yYktO","NetImage"),Object.defineProperty(a,"__esModule",{value:!0}),a.NetImage=void 0;const i=e("../MKIndex");a.NetImage=class extends cc.Component{constructor(){super(...arguments),this.m_url=null,this.m_callback=null}onLoad(){}onDestroy(){this.m_url=""}loadUrl(e,t){this.m_url=e,this.m_callback=t,""!=e&&(cc.sys.isNative?i.imageDowloader.loadUrl(e,this.onDownloadImage.bind(this)):cc.loader.load({url:e,type:"jpg"},this.onLoadNetImage.bind(this)))}onLoadNetImage(e,t){!e&&this.m_url==t.url&&this.isValid&&(t.packable=!1,this.setSprite(t))}onDownloadImage(e,t){e==this.m_url&&cc.loader.load(t,this.onLoadLocalImage.bind(this))}onLoadLocalImage(e,t){!e&&this.isValid&&this.setSprite(t)}setSprite(e){let t=this.getComponent(cc.Sprite);t&&(t.spriteFrame=new cc.SpriteFrame(e),this.m_callback&&this.m_callback())}},cc._RF.pop()},{"../MKIndex":"MKIndex"}],NetworkConstants:[function(e,t,a){"use strict";cc._RF.push(t,"da62dei+L1GTYR246XHPqwJ","NetworkConstants"),Object.defineProperty(a,"__esModule",{value:!0}),a.MsgTPNtf=a.MsgTPAck=a.MsgTPReq=a.MsgTP=a.MsgRummyNtf=a.MsgRummyAck=a.MsgRummyReq=a.MsgRummy=a.MsgIMNtf=a.MsgIMAck=a.MsgIMReq=a.MsgIM=a.MsgFAdBhNtf=a.MsgFAdBhAck=a.MsgFAdBhReq=a.MsgFAdBh=a.MsgAdBhNtf=a.MsgAdBhAck=a.MsgAdBhReq=a.MsgAdBh=a.MsgBaseNtf=a.MsgBaseAck=a.MsgBaseReq=a.MsgBase=a.MsgNtfMark=a.MsgAckMark=a.MsgTypeMark=a.MsgModeMark=a.MsgCodeOK=void 0,a.MsgCodeOK=200,a.MsgModeMark=1e6,a.MsgTypeMark=1e4,a.MsgAckMark=2*a.MsgTypeMark,a.MsgNtfMark=3*a.MsgTypeMark,a.MsgBase=1*a.MsgModeMark,a.MsgBaseReq=a.MsgBase,a.MsgBaseAck=a.MsgBase+a.MsgAckMark,a.MsgBaseNtf=a.MsgBase+a.MsgNtfMark,a.MsgAdBh=2*a.MsgModeMark,a.MsgAdBhReq=a.MsgAdBh,a.MsgAdBhAck=a.MsgAdBh+a.MsgAckMark,a.MsgAdBhNtf=a.MsgAdBh+a.MsgNtfMark,a.MsgFAdBh=3*a.MsgModeMark,a.MsgFAdBhReq=a.MsgFAdBh,a.MsgFAdBhAck=a.MsgFAdBh+a.MsgAckMark,a.MsgFAdBhNtf=a.MsgFAdBh+a.MsgNtfMark,a.MsgIM=4*a.MsgModeMark,a.MsgIMReq=a.MsgIM,a.MsgIMAck=a.MsgIM+a.MsgAckMark,a.MsgIMNtf=a.MsgIM+a.MsgNtfMark,a.MsgRummy=5*a.MsgModeMark,a.MsgRummyReq=a.MsgRummy,a.MsgRummyAck=a.MsgRummy+a.MsgAckMark,a.MsgRummyNtf=a.MsgRummy+a.MsgNtfMark,a.MsgTP=6*a.MsgModeMark,a.MsgTPReq=a.MsgTP,a.MsgTPAck=a.MsgTP+a.MsgAckMark,a.MsgTPNtf=a.MsgTP+a.MsgNtfMark,cc._RF.pop()},{}],PaytableLayer:[function(e,t,a){"use strict";cc._RF.push(t,"d7eb0s+xJhFcZNoWpGlXYfD","PaytableLayer");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("./Common/PopupBase"),{ccclass:o,property:n,menu:r}=cc._decorator;let c=class extends s.default{constructor(){super(...arguments),this.animationDuration=0}static get path(){return"Scenes/Game/paytable_larer"}onLoad(){this.main||(this.main=this.node)}onTouchClose(){this.hide()}};c=i([o],c),a.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],PlayerData:[function(e,t,a){"use strict";cc._RF.push(t,"897fesmCbBKm5FdtGKGroYU","PlayerData"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=class{constructor(){this.m_seat=-1,this.m_uid="",this.m_nickName="",this.m_playerBetList=[],this.m_headUrl="",this.m_balance=0,this.m_winSum=0,this.m_playing=!1,this.m_seat=-1,this.m_uid="",this.m_nickName="",this.m_headUrl="",this.m_playerBetList=[0,0,0,0,0,0],this.m_balance=0,this.m_winSum=0,this.m_playing=!1}initPlayerData(){this.m_seat=-1,this.m_uid="",this.m_nickName="",this.m_headUrl="",this.m_playerBetList=[0,0,0,0,0,0],this.m_balance=0,this.m_winSum=0,this.m_playing=!1}resetPlayerData(){this.m_playerBetList=[0,0,0,0,0,0],this.m_winSum=0}setSeat(e){this.m_seat=e}getSeat(){return this.m_seat}setUid(e){this.m_uid=e}getUid(){return this.m_uid}setNickName(e){this.m_nickName=e}getNickName(){return this.m_nickName}getHeadUrl(){return this.m_headUrl}setHeadUrl(e){this.m_headUrl=e}getPlayerBetList(){return this.m_playerBetList}setPlayerBetList(e){this.m_playerBetList=e}getBalance(){return this.m_balance}setBalance(e){this.m_balance=e}getBetSum(){let e=0;return this.m_playerBetList.forEach(t=>{e+=t}),e}getWinSum(){return this.m_winSum}setWinSum(e){this.m_winSum=e}isPlaying(){return this.m_playing}setPlaying(e){this.m_playing=e}},cc._RF.pop()},{}],PlayerNode:[function(e,t,a){"use strict";cc._RF.push(t,"244b780KAhN36hkyGxwq3OV","PlayerNode");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),o=e("../Business/Data/DataManager"),n=e("../Business/Data/PlayerData"),r=e("../Business/Logic/GameNotice"),c=e("./Common/UIUtils"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.imgAvatar=null,this.txtBalance=null,this.bgReward=null,this.txtReward=null,this.player=new n.default,this.gameData=null}onLoad(){s.noticeCenter.registAllNotice(this),this.gameData=o.default.gameData,this.bgReward.opacity=0,this.player.isPlaying()||(this.txtBalance.string="")}setPlayerNode(e){this.player=e,e.setPlaying(!0),this.txtBalance.string=c.UIUtils.getShortNumber(this.player.getBalance())}onUpdateBalance(e){!this.player.isPlaying()||e.seat>0&&this.player.getSeat()!=e.seat||(this.txtBalance.string=c.UIUtils.getShortNumber(this.player.getBalance()))}onPlayerShowReward(e){e.reward<=0||!this.player.isPlaying()||e.seat!=this.player.getSeat()||(this.txtReward.string="+"+c.UIUtils.getShortNumber(e.reward),this.bgReward.y=65,this.bgReward.opacity=255,cc.tween(this.bgReward).to(2,{y:85},{easing:"sineInOut"}).to(0,{opacity:0}).start())}standUp(){this.player.initPlayerData(),this.imgAvatar.spriteFrame=cc.resources.get("Texture/Game/bg/bg_seat",cc.SpriteFrame),this.txtBalance.string=""}sitDown(e){this.player=e,e.setPlaying(!0),c.UIUtils.setHead(this.imgAvatar,this.player.getHeadUrl()),this.txtBalance.string=c.UIUtils.getShortNumber(this.player.getBalance())}showBetAni(){this.node.stopAllActions(),cc.tween(this.node).to(.08,{y:5}).to(.14,{y:-3}).to(.06,{y:0}).union().start()}};i([u(cc.Sprite)],d.prototype,"imgAvatar",void 0),i([u(cc.Label)],d.prototype,"txtBalance",void 0),i([u(cc.Node)],d.prototype,"bgReward",void 0),i([u(cc.Label)],d.prototype,"txtReward",void 0),i([s.onNotice(r.NtcUpdateBalance)],d.prototype,"onUpdateBalance",null),i([s.onNotice(r.NtcPlayerShowReward)],d.prototype,"onPlayerShowReward",null),d=i([l],d),a.default=d,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../Business/Data/PlayerData":"PlayerData","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],PopupBase:[function(e,t,a){"use strict";cc._RF.push(t,"b6107kAL7dMzqZ3iXRw2h4a","PopupBase");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n},s=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(s,o){function n(e){try{c(i.next(e))}catch(t){o(t)}}function r(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,r)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});const{ccclass:o,property:n}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.background=null,this.main=null,this.animationDuration=.3,this.blocker=null,this.options=null,this.finishCallback=null}show(e,t){return s(this,void 0,void 0,function*(){this.options=e,this.init(e),this.updateDisplay(e),this.onBeforeShow&&(yield this.onBeforeShow()),null==t&&(t=t<0?0:this.animationDuration),yield this.playShowAnimation(t),this.onAfterShow&&this.onAfterShow()})}hide(e=!1,t){return s(this,void 0,void 0,function*(){const a=this.node;if(0!==t){let e=this.blocker;e||((e=this.blocker=new cc.Node("blocker")).addComponent(cc.BlockInputEvents),e.setParent(a),e.setContentSize(a.getContentSize())),e.active=!0}this.onBeforeHide&&(yield this.onBeforeHide(e)),null==t&&(t=t<0?0:this.animationDuration),yield this.playHideAnimation(t),this.blocker&&(this.blocker.active=!1),a.active=!1,this.onAfterHide&&this.onAfterHide(e),this.finishCallback&&this.finishCallback(e)})}playShowAnimation(e){return new Promise(t=>{const a=this.background,i=this.main;this.node.active=!0,a.active=!0,a.opacity=0,i.active=!0,i.scale=.5,i.opacity=0,cc.tween(a).to(.5*e,{opacity:150}).start(),cc.tween(i).to(e,{scale:1,opacity:255},{easing:"backOut"}).call(t).start()})}playHideAnimation(e){return new Promise(t=>{cc.tween(this.background).delay(.5*e).to(.5*e,{opacity:0}).start(),cc.tween(this.main).to(e,{scale:.5,opacity:0},{easing:"backIn"}).call(t).start()})}init(e){}updateDisplay(e){}onBeforeShow(){return new Promise(e=>e())}onAfterShow(){}onBeforeHide(e){return new Promise(e=>e())}onAfterHide(e){}onSuspended(){return new Promise(e=>e())}};i([n({type:cc.Node,tooltip:!1})],r.prototype,"background",void 0),i([n({type:cc.Node,tooltip:!1})],r.prototype,"main",void 0),r=i([o],r),a.default=r,cc._RF.pop()},{}],PopupManager:[function(e,t,a){"use strict";cc._RF.push(t,"c0ea1lR4GpK0bTmoo90xNjo","PopupManager");var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(s,o){function n(e){try{c(i.next(e))}catch(t){o(t)}}function r(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,r)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});const s=e("./PopupBase");var o,n;(function(e){e[e.Once=1]="Once",e[e.Normal=2]="Normal",e[e.Frequent=3]="Frequent"})(o||(o={})),function(e){e[e.Done=1]="Done",e[e.Failed=2]="Failed",e[e.Waiting=3]="Waiting"}(n||(n={}));class r{static get prefabCache(){return this._prefabCache}static get nodeCache(){return this._nodeCache}static get current(){return this._current}static get queue(){return this._queue}static get suspended(){return this._suspended}static get container(){return this._container||cc.Canvas.instance.node}static set container(e){this._container=e}static get CacheMode(){return o}static get ShowResultType(){return n}static show(e,t,a){return new Promise(o=>i(this,void 0,void 0,function*(){if(a=this.parseParams(a),this._current||this.locked){if(!a||!a.immediately)return this.push(e,t,a),void o(n.Waiting);this.locked=!1,yield this.suspend()}this._current={path:e,options:t,params:a};let r=this.getNodeFromCache(e);if(!cc.isValid(r)){this.loadStartCallback&&this.loadStartCallback();const t=yield this.load(e);if(this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(t))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",e),this._current=null,void o(n.Failed);r=cc.instantiate(t)}const c=r.getComponent(s.default);if(!c)return cc.warn("[PopupManager]","\u672a\u627e\u5230\u5f39\u7a97\u7ec4\u4ef6",e),this._current=null,void o(n.Failed);this._current.popup=c,this._current.node=r,r.setParent(this.container),r.setSiblingIndex(cc.macro.MAX_ZINDEX),c.finishCallback=t=>i(this,void 0,void 0,function*(){t||(this.locked=this._suspended.length>0||this._queue.length>0,this.recycle(e,r,a.mode),this._current=null,o(n.Done),yield new Promise(e=>{cc.Canvas.instance.scheduleOnce(e,this.interval)}),this.next())}),c.show(t)}))}static hide(){cc.isValid(this._current.popup)&&this._current.popup.hide()}static getNodeFromCache(e){const t=this._nodeCache;if(t.has(e)){const a=t.get(e);if(cc.isValid(a))return a;t.delete(e)}const a=this._prefabCache;if(a.has(e)){const t=a.get(e);if(cc.isValid(t))return t.addRef(),cc.instantiate(t);a.delete(e)}return null}static next(){if(this._current||0===this._suspended.length&&0===this._queue.length)return;let e=null;if(e=this._suspended.length>0?this._suspended.shift():this._queue.shift(),this.locked=!1,cc.isValid(e.popup))return this._current=e,e.node.setParent(this.container),void e.popup.show(e.options);this.show(e.path,e.options,e.params)}static push(e,t,a){this._current||this.locked?(this._queue.push({path:e,options:t,params:a}),this._queue.sort((e,t)=>e.params.priority-t.params.priority)):this.show(e,t,a)}static suspend(){return i(this,void 0,void 0,function*(){if(!this._current)return;const e=this._current;this._suspended.push(e),yield e.popup.onSuspended(),yield e.popup.hide(!0),this._current=null})}static recycle(e,t,a){switch(a){case o.Once:this._nodeCache.delete(e),t.destroy(),this.release(e);break;case o.Normal:this._nodeCache.delete(e),t.destroy();break;case o.Frequent:t.removeFromParent(!1),this._nodeCache.set(e,t)}}static load(e){return new Promise(t=>{const a=this._prefabCache;if(a.has(e)){const i=a.get(e);if(cc.isValid(i))return void t(i);a.delete(e)}cc.resources.load(e,(i,s)=>{i?t(null):(a.set(e,s),t(s))})})}static release(e){const t=this._nodeCache;let a=t.get(e);a&&(t.delete(e),cc.isValid(a)&&a.destroy(),a=null);const i=this._prefabCache;let s=i.get(e);s&&(s.refCount<=1&&i.delete(e),s.decRef(),s=null)}static parseParams(e){return null==e?new c:"[object Object]"!==Object.prototype.toString.call(e)?(cc.warn("[PopupManager]","\u5f39\u7a97\u53c2\u6570\u65e0\u6548\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),new c):(null==e.mode&&(e.mode=o.Normal),null==e.priority&&(e.priority=0),null==e.immediately&&(e.immediately=!1),e)}}a.default=r,r._prefabCache=new Map,r._nodeCache=new Map,r._current=null,r._queue=[],r._suspended=[],r.locked=!1,r._container=null,r.interval=.05,r.loadStartCallback=null,r.loadFinishCallback=null;class c{constructor(){this.mode=o.Normal,this.priority=0,this.immediately=!1}}cc._RF.pop()},{"./PopupBase":"PopupBase"}],PrefabPool:[function(e,t,a){"use strict";cc._RF.push(t,"66c96CKFiJAvYsrBV2ocv6V","PrefabPool");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const{ccclass:s,property:o}=cc._decorator;let n=class{static get(e,t=null){null==this.poolList[e]&&(this.poolList[e]=[]);let a,i=this.poolList[e];0==i.length?(a=cc.instantiate(cc.resources.get(e))).poolKey=e:a=i.pop();var s=t?a.getComponent(t):null;return s&&s.reuse&&s.reuse.apply(s,arguments),a}static put(e,t=null){let a=this.poolList[e.poolKey];if(a&&-1==a.indexOf(e)){e.removeFromParent(!1);var i=t?e.getComponent(t):null;i&&i.unuse&&i.unuse(),a.push(e)}}static clear(e){let t=this.poolList[e];if(t){for(let e=0,a=t.length;e<a;e++)t[e].destroy();t.length=0}}static clearAll(){for(let e in this.poolList)this.clear(e)}static size(e){let t=this.poolList[e];return t?t.length:0}};n.poolList={},n=i([s],n),a.default=n,cc._RF.pop()},{}],RecordCell:[function(e,t,a){"use strict";cc._RF.push(t,"e41eeLhiGZOyrvQDMXAqvhl","RecordCell");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.RecordCell=a.RecordData=void 0;const s=e("../MobileKit/MKIndex"),o=e("./Common/UIUtils");a.RecordData=class{};const{ccclass:n,property:r,menu:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.txtDate=null,this.txtResult=null}onLoad(){}setData(e){this.txtDate.string=s.Utils.dateFormat("mm.dd.YYYY HH:MM:SS",e.time),this.txtAmount.string=o.UIUtils.getShortNumber(e.amount),e.result<=0?(this.txtResult.node.color=cc.Color.GRAY,this.txtResult.string=s.LocalLang.get("menu_records_lost")):(this.txtResult.node.color=cc.Color.GREEN,this.txtResult.string=o.UIUtils.getShortNumber(e.result))}};i([r(cc.Label)],l.prototype,"txtAmount",void 0),i([r(cc.Label)],l.prototype,"txtDate",void 0),i([r(cc.Label)],l.prototype,"txtResult",void 0),l=i([n],l),a.RecordCell=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],SceneController:[function(e,t,a){"use strict";cc._RF.push(t,"0e547EKRatPwbOjldagOfi/","SceneController");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.SceneController=a.CmdScene=void 0;const s=e("../../MobileKit/MKIndex"),o=e("../Data/CommonDefine");let n=class{constructor(e){this.sceneType=e}};n=i([s.createCommand],n),a.CmdScene=n;class r extends s.Controller{constructor(){super(),this.setName("SceneController"),s.commandCenter.registAllCommand(this)}onCmdScene(e){let t=e.sceneType,a=null;t===o.SceneType.Game?a="Game":t==o.SceneType.Loading?a="Loading":t==o.SceneType.Lobby&&(a="Lobby"),null!=a&&cc.director.loadScene(a)}}i([s.onCommand(n)],r.prototype,"onCmdScene",null),a.SceneController=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex","../Data/CommonDefine":"CommonDefine"}],TrendCell:[function(e,t,a){"use strict";cc._RF.push(t,"103bbA56ohPlbj6EaO4sT2v","TrendCell");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0});const{ccclass:s,property:o,menu:n}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.txtResult=null,this.bg=null}onLoad(){}setTrend(e){if(e<2)return this.txtResult.string="X",void(this.bg.node.color=cc.Color.GRAY);this.txtResult.string=e.toString(),this.bg.node.color=cc.Color.RED}};i([o(cc.Label)],r.prototype,"txtResult",void 0),i([o(cc.Sprite)],r.prototype,"bg",void 0),r=i([s],r),a.default=r,cc._RF.pop()},{}],UIUtils:[function(e,t,a){"use strict";cc._RF.push(t,"42718I/3LJJtKtCYuOhAlRx","UIUtils"),Object.defineProperty(a,"__esModule",{value:!0}),a.UIUtils=a.UnitKilo=a.UnitLakh=a.UnitCrore=void 0;const i=e("../../MobileKit/MKIndex"),s=e("../../Business/Data/DataManager"),o=e("../../MobileKit/Component/NetImage"),n=e("../../Business/Data/CommonDefine");a.UnitCrore=1e7,a.UnitLakh=1e5,a.UnitKilo=1e3;class r{static chipFly(e,t,a,i){a.setPosition(e.getPosition()),cc.tween(a).to(i,{position:cc.v3(t.x,t.y)},{easing:"sineInOut"}).start()}static setHead(e,t,a=null){if(t.indexOf("base64://")>=0){let e=t.slice("base64://".length);t=i.CryptoUtils.base64Decode(e)}let s=e.getComponent(o.NetImage);s||(s=e.addComponent(o.NetImage)),t.indexOf("http")>=0?(e.spriteFrame=cc.resources.get(n.HeadDefault,cc.SpriteFrame),s.loadUrl(t,()=>{a&&a(e,t)})):(s.loadUrl(""),n.HeadLst.indexOf(t)<0?e.spriteFrame=""==t?cc.resources.get(n.HeadDefault,cc.SpriteFrame):cc.resources.get(n.HeadLst[0],cc.SpriteFrame):e.spriteFrame=cc.resources.get(t,cc.SpriteFrame))}}a.UIUtils=r,r.getShortNumber=function(e,t,i){e/=s.default.homeData.getChipsUnit();var o,n=Math.abs(e);return o=n>=a.UnitCrore?r.getShortStr(n,a.UnitCrore,"Cr"):n>=a.UnitLakh?r.getShortStr(n,a.UnitLakh,"L"):r.getSeparatorNumber(n,t),e<0?o="-"+o:e>0&&i&&(o="+"+o),o},r.getShortStr=function(e,t,a){var i=e/t;return r.getSeparatorNumber(i)+a},r.getSeparatorNumber=function(e,t=!1){var a=e%1;a=Math.floor(100*(a+cc.macro.FLT_EPSILON))/100;for(var i=Math.floor(e).toString(),s="",o=0,n=i.length;o<n;){var r=n-o;r>10?(s=s+i.substr(o,n-10)+",",o=n-10):r>7?(s=s+i.substr(o,n-7)+",",o=n-7):r>5?(s=s+i.substr(o,n-5)+",",o=n-5):r>3?(s=s+i.substr(o,n-3)+",",o=n-3):(s+=i.substr(o,n),o=n)}if(a>=.005){for(var c=a.toString();c.length<=3;)c+="0";s+=c.substr(1,c.length-1)}return 0==a&&t&&(s+=".00"),s},cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../../Business/Data/DataManager":"DataManager","../../MobileKit/Component/NetImage":"NetImage","../../MobileKit/MKIndex":"MKIndex"}],UserData:[function(e,t,a){"use strict";cc._RF.push(t,"dad16pPzIBPJKEhCrLrDRq7","UserData"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=class{constructor(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[],this.m_midBet=!1,this.reset()}reset(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[],this.m_midBet=!1}setNickName(e){this.m_nickName=e}getNickName(){return this.m_nickName}setUid(e){this.m_uid=e}getUid(){return this.m_uid}setCert(e){this.m_cert=e}getCert(){return this.m_cert}setLogined(e){this.m_isLogined=e}isLogined(){return this.m_isLogined}getHeadUrl(){return this.m_headUrl}setHeadUrl(e){this.m_headUrl=e}getBalance(){return this.m_balance}setBalance(e){this.m_balance=e}getSelectChip(){return this.m_selectChip}setSelectChip(e){this.m_selectChip=e}getMidBet(){return this.m_midBet}setMidBet(e){this.m_midBet=e}getGameRecordLst(){return this.m_gameRecordLst}setGameRecordLst(e){this.m_gameRecordLst=e}},cc._RF.pop()},{}],i18nLabel:[function(e,t,a){"use strict";cc._RF.push(t,"3e7e1yL3ltF4Ld2ONOefDbB","i18nLabel");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.i18nLabel=void 0;const s=e("./MKLocalLang"),{ccclass:o,property:n,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.i18n_string="",this.i18n_params=[]}start(){s.LocalLang._addOrDelLabel(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e,this.setEndValue()}get params(){return this.i18n_params}set params(e){this.i18n_params=e,this.setEndValue()}init(e,t){this.i18n_string=e,this.i18n_params=t,this.setEndValue()}setEndValue(){let e=this.getComponent(cc.Label);cc.isValid(e)&&(e.string=s.LocalLang.get(this.i18n_string,this.i18n_params))}_resetValue(){this.string=this.i18n_string}onDestroy(){s.LocalLang._addOrDelLabel(this,!1)}};i([n({visible:!1})],h.prototype,"i18n_string",void 0),i([n({visible:!1})],h.prototype,"i18n_params",void 0),i([n({type:cc.String})],h.prototype,"string",null),i([n({type:[cc.String]})],h.prototype,"params",null),h=i([o,r,l(cc.Label),c,u("\u591a\u8bed\u8a00/i18nLabel")],h),a.i18nLabel=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}],i18nSprite:[function(e,t,a){"use strict";cc._RF.push(t,"a8777HUMEtKZKZSmfQV4Q10","i18nSprite");var i=this&&this.__decorate||function(e,t,a,i){var s,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(o<3?s(n):o>3?s(t,a,n):s(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(a,"__esModule",{value:!0}),a.i18nSprite=void 0;const s=e("./MKLocalLang"),{ccclass:o,property:n,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.i18n_string=""}start(){s.LocalLang._addOrDelSprite(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e;let t=this.getComponent(cc.Sprite);cc.isValid(t)&&s.LocalLang._getSprite(e,e=>{cc.isValid(t)&&(t.spriteFrame=e)})}_resetValue(){this.string=this.i18n_string}onDestroy(){s.LocalLang._addOrDelSprite(this,!1)}};i([n({visible:!1})],h.prototype,"i18n_string",void 0),i([n({type:cc.String})],h.prototype,"string",null),h=i([o,r,l(cc.Sprite),c,u("\u591a\u8bed\u8a00/i18nSprite")],h),a.i18nSprite=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}]},{},["CommonDefine","ConfigManager","DataManager","GameData","HomeData","PlayerData","UserData","GameCommand","GameController","GameNotice","SceneController","NetworkConstants","HeartBeatHandler","MKAudioEngine","MKCryptoUtils","MKImageDownloader","MKLocalLang","MKSystem","MKUtils","i18nLabel","i18nSprite","NetImage","MKActionQueue","MKCommandCenter","MKNoticeCenter","MKIndex","MKHttp","MKSocket","AwardLayer","BetChip","BetTypeCell","ChipSettingLayer","PopupBase","PopupManager","PrefabPool","UIUtils","GameAction","GameRecordLayer","GameScene","LanguageLayer","LoadingConfig","LoadingScene","LobbyScene","LowBalanceLayer","MenuLayer","PaytableLayer","PlayerNode","RecordCell","TrendCell"]);